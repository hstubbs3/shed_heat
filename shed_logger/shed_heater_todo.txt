Shed HVAC thing

Arduino to run hardware

Raspberry Pi 4 w/ touch screen to interface with the arduino and do logging...



2024/09/14
0700 	Sorting out shed stuff, getting RPI updated, trying to get arduino stuff onto better breadboard but it messed up...
0845 	Trying to get Raspi OS updated to latest ... 

TODO 	update Raspi OS on the Raspi 4 w/ the touchscreen
TODO 	CHECK how to interface the arduino to the Raspi 

Diagram - 

Arduino
	Temp Sensors
		Internal High
		Internal Low
		Solar Heater
		Sand Battery
	Fans
		Heating
			2x 	OUT to heater
			2x IN from Battery

For cooling - run IN from battery going high / front, and exhaust fans high/back to get flow?


2024/09/22
1035 	OK way too much gone on.. The 12V DC distro board hit a snafu and so the shed wasn't heated at all last night, so couldn't evaluate heating potential.
		I think I'll modify this program so it tries to max out the heater .. 
		if ComfyTemp is set to 119, it should work to max out? 
1040 	ComfyTemp set to 120, setting check to every 60s rather than every 10s.. 	May god have mercy on my soul		
		Time 	Ambient Desk	HeatSink 	Heater
		1040 	57  	76 		95 			69 

		1045	57 		76 		98 			70

		1052 	57 		77 		103 		72
		1053 	58 		77		103 		72
		1054 	58 		77		102 		73

1240 	switching to ComfyTemp of 69... desk got to 92 with it being 74 out side, heatSink 124 heater 97

2018 	Came out to the shed to check if things working.. the negative 12V DC connection was bad, melted a bit..

		got it sorted out... pulling ~145W ....	OK so the big question is... can it raise Desk temp if I close the doors? 
		Desk temp is 63... if it gets to 65 in some reasonable time maybe is all ok... 
		Time 	Ambient Desk	Sink 	sand
		2020 	70 		63 		70 		70
		2025 	70 		63 		81		70
		2030 	70 		64 		92 		71
		2035 	69 		64 		98 		72 		OK definite heat if A increases or D > A
		2040 	69 		63 		102 	73
		2045	69 		64		105 	74
		2050 	69 		64 		105 	74 		no change in 5 mins... 	running 123 watts..



		with heater at 70 to start, is clear that heater and desk won't quite equalize.. heater would need to get more radiative vs desk...
		if 63/70 was more/less in equilibrium before, then maybe heater at 77+ would be enough to move the needle? 
		the heat sink gets up to about 30F above the sand... 


TODO 	add fan to heater, have it start running if ( tempsF[HT_DESK] < ComfyTemp && tempsF[HT_HEATER] > tempsF[HT_DESK] ) ...
		That way it kicks out more heat, since the increased airflow should move heat off the heat sink directly.. 

TODO 	update Raspi OS on the Raspi 4 w/ the touchscreen
TODO 	CHECK how to interface the arduino to the Raspi 


2024/10/03
0520 	Was feeling a bit manic tonight ( Wednesday night ), so started building out the solar water heater - just getting the hose
		and pump setup to do ~half-height test, no glass or reflector or even boxed in.. 

		Of course, I did all this after dark, so currently the water is showing about 5*F colder than ambient... lol

		I managed to stay out by my shed mucking around with this stuff so late that Miguel locked me out of the house - I didn't even notice
		until about an hour ago... I rigged up the sand heater and the arduino to monitor temps.. Nothing is connected to relays currentlky.
		Just monitoring temps.

		The sand heater and the water pump currently running about 125 watts... 
05:28:16.915 -> BUCKET Temp: 46.58 F vs Ambient: 52.34 F .... -5.76
05:28:17.010 -> SAND Temp: 69.08 F vs AMBIENT: 52.34 F .... 16.74
05:28:17.057 -> SAND Temp: 69.08 F vs DESK: 55.94 F .... 13.14
05:28:17.104 -> DESK Temp: 55.94 F vs AMBIENT: 52.34 F .... 3.60

		I closed the door to try and get warmer... but that also is having the effect of cutting me off from the wi-fi.. Not sure what I'll
		have to do to avoid that issue, aside dangle a wi-fi adapter out the bottom of the shed?? 

		Note - the bucket is currently sitting _outside_ on the ground... 

		Online weather has Ambient should be 52*F ... so really not sure what's going on with bucket sensor.. unless that table outside is just
		that cold...? 

05:32:53.665 -> loop...
05:32:53.712 -> DHT sensor 0 : AMBIENT at pin 10 - 51.62 F / 20.00 % H
05:32:59.709 -> DHT sensor 1 : DESK at pin 12 - 55.94 F / 54.00 % H
05:33:05.701 -> DHT sensor 2 : BUCKET at pin 11 - 46.58 F / 62.00 % H
05:33:11.696 -> DHT sensor 3 : SAND at pin 9 - 70.52 F / 98.00 % H
05:33:17.657 -> BUCKET Temp: 46.58 F vs Ambient: 51.62 F .... -5.04
05:33:17.705 -> SAND Temp: 70.52 F vs AMBIENT: 51.62 F .... 18.90
05:33:17.751 -> SAND Temp: 70.52 F vs DESK: 55.94 F .... 14.58
05:33:17.799 -> DESK Temp: 55.94 F vs AMBIENT: 51.62 F .... 4.32

0538	HEATSINK is actually very warm to the touch, but I don't have temp sensor rigged for it... I suppose I have the time now? lol

0620 	Yeah that took longer than I thought it would... 

06:21:12.060 -> loop...
06:21:12.060 -> DHT sensor 0 : AMBIENT at pin 10 - 51.62 F / 20.00 % H
06:21:17.071 -> DHT sensor 1 : DESK at pin 12 - 57.38 F / 52.00 % H
06:21:22.067 -> DHT sensor 2 : BUCKET at pin 11 - 45.68 F / 64.00 % H
06:21:27.031 -> DHT sensor 3 : SAND at pin 9 - 80.06 F / 98.00 % H
06:21:32.018 -> DHT sensor 4 : HEATSINK at pin 8 - 86.36 F / 22.00 % H
06:21:36.997 -> BUCKET Temp: 45.68 F vs Ambient: 51.62 F .... -5.94
06:21:37.036 -> HEATSINK Temp: 86.36 F vs SAND: 80.06 F .... 6.30
06:21:37.083 -> SAND Temp: 80.06 F vs AMBIENT: 51.62 F .... 28.44
06:21:37.130 -> SAND Temp: 80.06 F vs DESK: 57.38 F .... 22.68
06:21:37.178 -> DESK Temp: 57.38 F vs AMBIENT: 51.62 F .... 5.76

		HEATSINK at 86*F ... is >32 above ambient... is unclear if desk temperature is really affected here but before I came into the shed
		desk and ambient were equal.. so that 5*F is possibly just me sitting here? 


07:15:18.517 -> loop...
07:15:18.565 -> DHT sensor 0 : AMBIENT at pin 10 - 51.62 F / 20.00 % H
07:15:23.559 -> DHT sensor 1 : DESK at pin 12 - 54.68 F / 50.00 % H
07:15:28.528 -> DHT sensor 2 : BUCKET at pin 11 - 45.14 F / 66.00 % H
07:15:33.489 -> DHT sensor 3 : SAND at pin 9 - 81.68 F / 98.00 % H
07:15:38.499 -> DHT sensor 4 : HEATSINK at pin 8 - 84.74 F / 18.00 % H
07:15:43.436 -> BUCKET Temp: 45.14 F vs Ambient: 51.62 F .... -6.48
07:15:43.530 -> HEATSINK Temp: 84.74 F vs SAND: 81.68 F .... 3.06
07:15:43.577 -> SAND Temp: 81.68 F vs AMBIENT: 51.62 F .... 30.06
07:15:43.624 -> SAND Temp: 81.68 F vs DESK: 54.68 F .... 27.00
07:15:43.671 -> DESK Temp: 54.68 F vs AMBIENT: 51.62 F .... 3.06

0716	Twilight / Dawn is about 730.. is interesting that desk is down 3*F in the past hour... hmmm unless that's just from cracking the door open?

1035	disconnected heater from 12V DC... moved solar heater to get more direct sunlight.. now is about 50% ...

2024/10/3 10:53:28 loop...
2024/10/3 10:53:29 DHT sensor 0 : AMBIENT at pin 10 - 68.36 F / 18.00 % H
2024/10/3 10:53:29 DHT sensor 1 : DESK at pin 12 - 77.54 F / 33.00 % H
2024/10/3 10:53:29 DHT sensor 2 : BUCKET at pin 11 - 80.06 F / 35.00 % H
2024/10/3 10:53:29 DHT sensor 3 : SAND at pin 9 - 95.36 F / 98.00 % H
2024/10/3 10:53:29 DHT sensor 4 : HEATSINK at pin 8 - 85.82 F / 18.00 % H

1053 	Desk at 77 / +9F ambient... using box fan to cool..

1055 	BUCKET V AMBIENT 11.70 F ... not too shabby... if is 4 gallons in system, that would be 512 ounce / 32 pounds .. about 15Kg ...
		which is about what the air volume in the shed should be? 
		Specific heat water is 4.184 J/g/C .. air is 1.005 J/g/C .. and sand is .83 ... so 15Kg of water @ +1 C is like +4C air? 
		~12F is about 6.5 C ... so would expect ambient/bucket to settle at... (68+80*4)/5 = 388/5 = 77*F ? +12F means end up +9F? hmmm

1125 	260ft 1/2" ID is about 2.6 US gallon.. and there's about 5" deep in the bucket.. so about 4.5 Gallon actually.. 36 Lbs..
		and bucket is at about +18F .. +11F on settling?? hmmmm...


2024/10/04
0926 	testing power characteristics of 2x 12V DC heating elements sharing a sheet metal duct heatsink in sand battery heater..

		initial conditions before powering up - 
2024/10/4 9:27:23 loop...
2024/10/4 9:27:23 DHT sensor 0 : AMBIENT at pin 10 - 65.48 F / 18.00 % H
2024/10/4 9:27:23 DHT sensor 1 : DESK at pin 12 - 66.92 F / 38.00 % H
2024/10/4 9:27:23 DHT sensor 2 : BUCKET at pin 11 - 64.76 F / 36.00 % H
2024/10/4 9:27:23 DHT sensor 3 : SAND at pin 9 - 64.58 F / 44.00 % H
2024/10/4 9:27:23 DHT sensor 4 : HEATSINK at pin 8 - 65.48 F / 35.00 % H
2024/10/4 9:27:23 BUCKET Temp: 64.76 F vs Ambient: 65.48 F .... -0.72
2024/10/4 9:27:23 HEATSINK Temp: 65.48 F vs SAND: 64.58 F .... 0.90
2024/10/4 9:27:24 SAND Temp: 64.58 F vs AMBIENT: 65.48 F .... -0.90

		water pump still on circuit - uses 18-20 watts... so will say 19 as factoring... 
		powering up at 9:29AM, overall wattage on the 12V DC power supply rising sharply and topping out at ~105 before dropping slowly.

		steady state for the 4 heating elements sharing this heatsink was ~100W.. looking for steady state >50W, factoring pump steady state
		over ~75W would be ideal?

0933 	HEATSINK sensor was out of place, put back.
0934 	~74 watts 	maybe it was 100w with the pump...
0943 	~68 watts
1030 	~63 watts
1057	~62 watts 	dumped in additional water in reserve due to loss (return hose out of place due to wind)

1117 	Cutting power to redo wiring of project... 

1120 	First order of biz.. get the 16x2 LCD stable again or confirm it is toast..

1242 	OK.. got the 16x2 LCD working... and the 16key touchpad... woot! 
		Now I can totally make this work on its own, without being connected to anything other than for logging...
		Maybe later I can try to get the graphic LCD working? that could be cool... use the graphic LCDs to indicate functions for A-D keys?
		
TODO 	use EEPROM to store trigger points / operational modes?

2024/10/10
0822 	setting up git, then fixing read/write RTC, got day of month / month backwards.. 

2024/10/12
1100 	more working on stuff.. yesterday got a raspberry pi display up and running but want to revisit how that should work..

		for logging - there is dateTimeStamp string written out ..

1155	Default font is 5x7 .. appears it takes up actually 6x8 though.. giving effectively a 21x8 char display.
		a custom font would be interesting / cool... perhaps could do smaller? 4x would give 25 chars across, x6 9 lines, x5 10 lines.. x4 12 lines..
		but.. a 4x4 custom font? hmmm .. there is a 3x5 tom thumb font in the adafruit gfx lib... 

		number sign listed for tom thumb like 0xBE, 0xFA ...
		1011 1110 1111 1010 
		101
		111
		101
		111
		101

		hmmm... W -  0xB7, 0xFA, 101/1 01/11 1/111 /1010
		101
		101
		111
		111
		101

		is a W ? wow... 4x4 would be kinda hard to pull off.. maybe go to 4x5 ?
		1001
		1001
		1111
		1111
		1010  

		nah... maybe 5x4 but not 4x anything.. prob 5x5 should be OK readability.. would give 21x10 display.. ok
		the tom thumb font would allow for a display of 32x10 characters.. pretty crazy.. 

1250 	OK... maybe need to focus more on other things... hehe.. like that logger display thing.. the graphics.py is OK but kinda meh...
		maybe can figure out tkinter directly?

1410 	framework for a tkinter based display app is all set now.. can do custom bitmap font though?


2024/10/13

0940 	I came out about 0800 to start work on reservoir and main loop pump... just got it connected and it is cycling on/off every 10s.
		probably mucked a rule... 

2024/10/13 09:38:50 - 00 0 0000/0088 :: 49 / 50 - Sun - secondLoops: 88
CHECK ALL DHT
SHED : 64.04 F
HEATSINK : ERR F
SAND : ERR F
RESERVOIR : 60.98 F
ROOF : 64.76 F
AMBIENT : 61.88 F
DONE CHECK ALL DHT
EvaluateRule : main: roof>res - DHT_LT_TARGET_DHT - RESERVOIR : 60.98 F < ROOF : 64.76 F - switching on 0 LOOP PUMP
EvaluateRule : xfer:  res>sand - DHT_LT_TARGET_DHT - SAND : ERR F ? RESERVOIR : 60.98 F - nothing to change 1 XFER PUMP
EvaluateRule : h0: sand<comfy - TARGET_TEMP_ON_LOW - DHT 2 SAND - ERR ? 69 F - nothing to change
EvaluateRule : f0: shed<comfy - TARGET_TEMP_ON_LOW - DHT 0 SHED - 64.04 ? 69 F - nothing to change
EvaluateRule : h0 too hot!!!! - ruleDHT_GT_TEMP_OFF - DHT 1 HEATSINK - ERR ? 120 F - nothing to change
2024/10/13 09:38:50 - 00 0 0000/0088 :: 49 DONE RULES
5 done rules...
2024/10/13 09:38:52 - 09 0 0000/0087 :: 50 / 52 - Sun - secondLoops: 87
2024/10/13 09:38:53 - 08 0 0000/0087 :: 52 / 53 - Sun - secondLoops: 87
2024/10/13 09:38:54 - 07 0 0000/0087 :: 53 / 54 - Sun - secondLoops: 87
2024/10/13 09:38:55 - 06 0 0000/0087 :: 54 / 55 - Sun - secondLoops: 87
2024/10/13 09:38:56 - 05 0 0000/0087 :: 55 / 56 - Sun - secondLoops: 87
2024/10/13 09:38:57 - 04 0 0000/0087 :: 56 / 57 - Sun - secondLoops: 87
2024/10/13 09:38:58 - 03 0 0000/0087 :: 57 / 58 - Sun - secondLoops: 87
2024/10/13 09:38:59 - 02 0 0000/0087 :: 58 / 59 - Sun - secondLoops: 87
2024/10/13 09:39:00 - 01 0 0000/0087 :: 255 /  0 - Sun - secondLoops: 87
2024/10/13 09:39:01 - 00 0 0000/0087 ::  0 /  1 - Sun - secondLoops: 87
CHECK ALL DHT
SHED : 64.04 F
HEATSINK : ERR F
SAND : ERR F
RESERVOIR : 60.98 F
ROOF : 64.76 F
AMBIENT : 61.88 F
DONE CHECK ALL DHT
EvaluateRule : main: roof>res - DHT_LT_TARGET_DHT - RESERVOIR : 60.98 F < ROOF : 64.76 F - switching off 0 LOOP PUMP
EvaluateRule : xfer:  res>sand - DHT_LT_TARGET_DHT - SAND : ERR F ? RESERVOIR : 60.98 F - nothing to change 1 XFER PUMP
EvaluateRule : h0: sand<comfy - TARGET_TEMP_ON_LOW - DHT 2 SAND - ERR ? 69 F - nothing to change
EvaluateRule : f0: shed<comfy - TARGET_TEMP_ON_LOW - DHT 0 SHED - 64.04 ? 69 F - nothing to change
EvaluateRule : h0 too hot!!!! - ruleDHT_GT_TEMP_OFF - DHT 1 HEATSINK - ERR ? 120 F - nothing to change
2024/10/13 09:39:01 - 00 0 0000/0087 :: 0 DONE RULES

hmmm... same rule? what? 

if ( dht_reads[rule->a].iF > rule->b && run_relays[rule->r]) {

oh....


oops

should be 

else if ( dht_reads[rule->a].iF > dht_reads[rule->b].iF && run_relays[rule->r]) {

hehe

yeah.. a temperature is likely going to be higher than an index.. ok


0945 	updated, switching back to RPI for logging..
		logging started... 
		is nice shiny day, few clouds..
		SHED 	SAND  	RESERV 	ROOF 	AMBIENT 	roof/amb res/amb sand/amb
0945	 64.76 	 		 60.26 	 68.36 	 61.88 		 +7 	 -1 			main loop ON 	nice solid flow 	door is wide open 
1000	 66.92 	 		 62.60 	 95.36 	 63.50 		+32 	 -1
1005	will start work wiring up the sand heater..
1015 	 69.80 	 77.54 	 67.64 	111.02 	 66.20 		+45 	 +1 		 	SAND in the mix, but sensor is reading high still..?
1030 	 73.40 	 66.20 	 73.40 	120.56 	 69.08 		+51 	+14 	 -3		res barely above shed... 
1045 	 75.38 	 65.48 	 78.44 	127.76 	 71.24 	 	+56 	 +7  	 -6 	shed +4 ambient, door open, no fan..
1100 	 77.54 	 66.92 	 84.02 	129.92 	 72.86 		+57 	+12 	 -6 	about to power up xfer loop... 
1110 	XFER pump stay trying to leak...
1115 	 80.06 	 68.36 	 88.34 	137.12 	 74.12 		+63 	+14 	 -8		xfer pump down to slow leak... 91.5W 12V
1125 	taking XFER offline to try and fix that leak.. 
1130 	 82.40 	 71.24 	 95.36 	139.10 	 77.54 		+62 	+18 	 -6		OK maybe xfer pump leak fixed now..
1145 	 84.02 	 72.68 	 98.42 	141.26 	 78.44 		+63 	+20 	 -6 	~141 was about maxed out I saw so far for sensor..
1200 	 84.74 	 74.84 	 91.94 	139.10 	 78.44 	 	+61 	+13 	 -4 	added another ~3-4 gallons to reservoir to cover xfer! 
1215 	 85.64 	 75.38 	 96.08 	136.22 	 80.60 		+56 	+16 	 -5 	
1230 	 87.44 	 76.64 	 96.08 	136.22 	 66.92 		+70 	+30 	+10 	hoses popped out of reserve a few mins ago when xfer pump hit prime
1235 	leaving, closing shed doors

1555 	popped in to grab a tote, check things.. 
1600 	 92.12 	 92.84 	 96.08 	 93.56 	 80.06 	 	+13 	+16 	+12 	main loop pump is turned off ( res > roof ) . ~20W for xfer pump only
		OK... probably past the more useful point for the heating system with 1 sand battery / xfer... and unsealed panel with 1 pane...
		the xfer pump wasn't installed / running initially... so there's ~2-3 hours without gains there, plus door was open until 1235! 
		So this is mostly from last 3.5 hours in the afternoon, not running all day / closed up...

		Everything inside is basically +13F from ambient... Question is how this maps to maintaining temperature until the roof is warm again?

1615 	 92.84 	 92.84 	 92.84 	 91.84 	 79.16 		+12 	+13 	+13 	xfer pump is still running cuz condition to stop is > not >=...
1623 	 92.84 	 91.84 	 91.84 	 92.84 	 79.16 		+13 	+12 	+12 	main loop kicked back on! 
1630 	 93.56 	 91.94 	 94.46 	 94.46 	 80.06 		+14 	+14 	+11 	
		OK so with all 3 glass and the box sealed, maintaining +10 to +15 F over ambient in the shed should be no problem... so ~50 F in the shed
		during the day... unclear how much better it can be with all the glass and sealed box, or how it will maintain into the night...
		sunset today is 1849	... 	so will have to check back around that time..

		Xfer pump still leaking, but appears it should be manageable as-is for now... 
1635 	will set glass on panel 3 before heading inside... 

1815 	 82.40 	 86.36 	 82.40 	 77.54 	 73.40 	 	 +4 	 +9 	+13
		Funny... no WIFI with the door closed means I can't pull data from the RPI for the day.. even though the RPI and the laptop are sitting
		less than 2 feet apart on the desk... 

		shed temp and reservoir temp are same... suggesting there is expectation of thermal equilibrium between those values?
1830 	 80.78 	 84.74 	 81.68 	 73.40 	 71.24 		 +2 	+10 	+13
1835 	possibly fixed leak in Xfer pump.. emptied spill pan into reservoir to confirm.. would need the pump to run to be sure?
		shed-amb is really the determining factor.. so should put that in the tracking header...
		SHED 	SAND  	RESERV 	ROOF 	AMBIENT		shed-amb sand-amb res-amb roof-amb
		going into Tuesday, should add a rule that ambient > comfy means no relays run... to avoid killing myself with da heat :-P

		As it is expected in Jan to see temps about 20F, goal is shed above freezing, so shed must maintain at least +13F vs ambient...
		Will have to see what further systems need to be added, aside the 110V AC heater elements and/or 12V DC heater elements...

		SHED 	SAND  	RESERV 	ROOF 	AMBIENT 	shed-amb 	sand-amb 	res-amb 	roof-amb
1815 	 82.40 	 86.36 	 82.40 	 77.54 	 73.40 		 +9 		+13 		 +9 		 +4
1830 	 80.78 	 84.74 	 81.68 	 73.40 	 71.24 		 +9 		+13 		 +9 		 +2
1845 	 80.78 	 84.02 	 80.78 	 71.96 	 71.24 		 +9 		+13 		 +9 		--- 		roof at ambient / almost sunset
1900 	 80.06 	 83.30 	 79.16 	 69.80 	 70.52 		+10 		+13 		 +9 		 -1 		?? what are you doing step-roof?

2025 	WIFI extender installed.. WOOT!!!


2024/10/14

0820 	added sand battery as extension... leaving SAND temp sensor in the first one ( first one w/ heater duct is second in xfer loop )

1015 	??	oops'd trying to move the arduino... had to start soldering pins and stuff
1135 	operation up to stuff yesterday restored... 

		SHED 	SAND  	RESERV 	ROOF 	AMBIENT 	shed-amb 	sand-amb 	res-amb 	roof-amb
1145 	

info@ncaks.com - speedy cash - email copy police report

1410 	wired up 110 V AC relay / heating elements... I grounded the relay to start the heater..
		initial spike to >300 watts, ~3 amps, heatsink was at ~86 F 
1415 	160 watts 	heatsink  91F

														over amb ->
		SHED 	SINK 	SAND 	RES 	ROOF 	AMB 	SHED/ 	SAND/ 	RES/ 	ROOF/ 	MAIN 	XFER 	FAN 	HEATER 	 	 		DOOR
1415	 93 	 91		 84 	112 	140 	 83 	 10 	  1 	 29 	 57 	 X 		 X 		 		 X (override) 		OPEN 	
1420 	 93 	105 	 84 	111 	139		 82 	 11 	  2 	 29 	 57 	 X 		 X 				 X 					OPEN  	~160 watts
1425 	 93 	115 	 85 	112 	139 	 83 	 10 	  2 	 29 	 56 	 x 		 x 				 (normal op)		OPEN 	
1430 	 93 	122 	 86 	112 	138 	 83 	 10 	  3 	 29 	 55 	 X 		 X 									OPEN
1435 	 93 	120 	 87 	113 	131 	 84 	  9 	  3 	 29 	 47 	 X 		 X 									OPEN

		sunset - 6:47 PM ... <69 - 68 by 8 PM. low of 53 . Tomorrow - high 81 low 57 ...

		roof temp fell quickly at 1430 ... need to pull where it started.. log since yesterday morning is 14MB .. ok not too horribad...
		roof sensor appears to max out at 141 F.. it did so today starting before 1107 ( because issues moving the setup, am missing data)
		it was 115 at 1020 ... roof went hot between 9:30 and 10:00 AM... giving about 4.5 hours max of solar heat collection.
1448 	main loop just tripped off... reservoir 111 F vs roof 110 F .. 
		ending today's collection at 111 F v 82 F ambient -> +29 F reservoir with shed currently at +8 F ambient (with door open...)

		yesterday had barely gotten things up and running.. roof not >140 until 11:40 ! (cuz only 1 panel?) .. didn't maintain either.. 
		heat collection down by 1500 with reservoir 104 F vs 80 F ambient -> +24 F with shed at +19 F ambient (door was closed...)
		hmmm... insulating the reservoir was a good move? although closing the door has caused ~100 F inside before.. 
		Also since yesterday, improved insulation on north ceiling and tossed insulation in front of the exhaust window.. 
		And didn't have the additional sand battery or heater connected

		Reservoir == Ambient at ~6AM this morning... so 10/13 	-	collected +24 F by 3PM.. 15 hours... about 1.5 F/hr lost ...
		today collected +29 F by 3PM ... predicting rervoir == Ambient after ~20 hours.. 11AM ( with collection starting at 10AM !)
		down to ~+6 by 6AM , which is give/take coldest time? ... goal was worst case down to +10 over ambient... hmmm.. will have to see..

		yesterday, sand == reservoir by 5PM .. sand was 93 F at 3PM yesterday.. today sand was at 91 F at 3PM, but SAND temp is now taken in middle
		of new sand battery... at 5PM, xfer set sand==reservior at 91 F ... -2 F total from where sand was at ? hmmm... 
		5PM ambient yesterday was 79 - so sand v ambient -> +12 F at 5PM when xfer complete .. that puts loss at +1 F / hour to 5am ... 

		Will have to track and see when and what temp sand == reservoir with all the changes today.. 

1520 	calling it a day here.. 

2210 	ran out to move the SAND temp sensor to the heater cuz current Sketch uses sand < comfy to start the heater... should fix that
		Ambient sensor being under the hole in the floor isn't accurate for outside temperature.. will need to fix that eventually...

		Also updated the webtail to spit out 500 lines ... so should be more like last 4-5 mins ... 
		Need to add output following rules indicating which relays are on.. 

		eventually should switch to checking only every 5 mins or so, with some button to check sooner in case of sensor issue?

		oh.. and fixed it saying the heat is 12V DC.. cuz I iz using the 110V AC heater... at ~142 watts... 
2225	Heater started about 22:10 with heat sink at 67 / shed at 66 ... now heat sink at 82 sand at 69.. shed at 67 but I am sitting in it so...
		will have to see if can get shed back to 70... at 1F per 5 mins for SAND though, and 1F per 15 mins for shed? hmmm...
2227 	Heat element turned off - sand at 70 heat sink at 84 ... wait, when did xfer come on? oh... at 2208 ... so system is working as intended..
		shed went low, heat fan kicked on... is like 10 watts sand went low due to the heat fan, lower than reservoir, kicked on xfer ( 20 watts? )
		so 30 watts total... sand still fell below comfy, kicked on heater ( 180 watts total now ??)... 
		Now is only using fan and xfer (30 watts).. until sand OK again.. then back to fan only ( 10 watts ?)...
		So system should cycle during the night, easy peazy... ? 
		Is just question can shed get back to 69 F? since original delay in the heat element starting was due to sand temp sensor in bad location?

		Taking roof as outside temp - ~56 F... shed is holding at +11 , SAND at +18, RES at +16 ... is only about 7 hours to 6AM.. +5 should be no issue.
		5/6AM expected to be 58.. saying it should be 63? now... is my roof sensor really 7F off ? 

		Maybe should add an estimate for how much watts the relays using ? hmm... 
		Maybe should add temperature sensor for the additional sand battery or should its temp be inferred from the heater?

1245 	things to ponder another day perhaps?

2024/10/15
0900 	fixing up the sketch a bit, need to update cron stuff as well.. and get that plus this log into the GIT? 

1005 	OK changes pushed to devices.. 

1020 	hmmm.. its not writing the .csv for some reason... will deal with later, patched a cron in for now..


1800 	so... let's see.. lots of crazy stuff.. I made a DHT11 waterproof so I could stuff it down in the reservoir..
		updated the code earlier... made some minor tweaks since then, nothing really needing to be pushed yet..

		Maybe should analyze some data so far.. see when system is "failing" ? start a chart up?
																shed<69, ambi<60
				3PM res-ambi 	hour res<=69 	hour sand<=69 	shed-ambi<10 	5AM shed-ambi
		10/13 	+24 			midnight 			midnight 	0400			 +1
		10/14 	+21 			midnight 			midnight 	0400			---
		10/15 	+22 

		ok.. so we is losing the fight with ambient... 
		reservoir sensor is a little glitchy.. seems to be going in ERR state every 3rd or 4th time.. 
		maybe it isn't so good at swimming after all..

1807 	SAND at 94? where was it yesterday? was 89! ... wow... ok.. reservoir was 83 like it is now.. shed was +5 
		yesterday this time.. ok.. interestink...

1830 	hanging out in the shed kicking off update for work laptop.. 






2024/10/16
0830 	added about 3 gallons water to the reservoir to cover the xfer port and about 6 Lbs of rock salt.
		Just dumped the rock salt in away from the uptakes, will have to see how well it dissolves later.

1020	In the process of moving the system back into place, kinda mucked up some connections... spent next
		2 hours redoing connections, barely got it going again just now.

		Last night looked really promising - at 0830 shed stayed about 67 F, ambient was down to 61 F ... 
		Reservoir was at 63 F, sand was 66 F ... so overall kept ~5 F over ambient.. will have to see how the salt
		impacts collection / retention before adding more things to the system.

		For visualization, timeline/graph of temps, which relays were on, watts used, and which rules active..?

pi@raspberrypi:~ $ grep CSV_HEADER `ls /home/pi/shed_heat*.log | tail -1 ` | head -n 1 | cut -d',' -f2-
time,"SHED","HEATSINK","SAND","RESERVOIR","ROOF","AMBIENT","LOOP PUMP","XFER PUMP","HEAT FAN","110V AC HEAT","",
pi@raspberrypi:~ $ grep CSV_VALUES `ls /home/pi/shed_heat*.log | tail -1 ` | head -n 1 | cut -d' ' -f2-
2024/10/16 10:17,69.80,86.36,64.76,63.32,106.88,65.48,1,0,0,0,,

1300 	OK is kinda silly but yay I haz graph of last 3 hours temps...

1400 	prepping up the foot warmer ... 12V DC heater elements / ~100 watts
1415 	attempting compile for foot warmer add.. setting comfyfoot to 90 for now..
		rejigger the shedlogger.py for the RPI ..
1420 	uploading updated sketch
1425 	OK seems working..


1745 	Ooo... tomorrow supposed to be rain/thunderstorms, high of 55 F... should be good test of the system for sure.

2024/10/17
0800 	shed was down to 60 F vs 55 F ambient... moving the sensor on the heater to the top by the fan, it is only
		registering about 67 F... but the _sand_ in the heater is very warm, probably closer to the ~90 F the sensor
		was calling out before... So the heater is warming a 5 gallon bucket - the duct of sand... that isn't really
		gonna fly, the sand isn't radiative enough and the heater isn't powerful enough...

		Also have some small leaks in the XFER system... at the pump and junction to the heater.. For now will just set
		something to catch the water and monitor loss.. Reservoir level is OK ...

0815	maybe need to construct different type of heater? but first maybe just disable the fan relay?  
		may need to add multiple conditions to rules... wanted to make some conditions maybe for day/night...

		Also some way to display rules and determine which are active... possibly also edit rules and allow for 
		overrides...

		the logger opening a new file every time is also kinda bad? would be better using logrotate or something?


0930 	uhoh.. I def have a leak somewhere.. not xfer though.. killing 12V and checking..

0935 	leak was apparently from under west wall.. oof, I forgot to seal that.. resuming 12V

0940 	updating sketch on the arduino so can match csv formatting using logger..

0952 	OK seems things running stable now.. didn't even build out the better heater though.. should get on that
		is kinda cold in here... 

		wanted to add relay data to CSV status.html... looks like last 3 hours should be OK though?

1010 	fuck... nevermind building heater.. just go get a coat.. and maybe a towel for this leak..

1015 	HEATER relay was oops disconnected... dunno how long.. reconnected

1020 	running HEATER without HEATER FAN , sensor placed in under cowl in front of fan...

1030 	OK heater 77, SHED 62 which _is_ +10 ambient... so had to ditch the fan? ... 
		should reprogram so runs fan if HEATER > SHED ...  yeah.. gonna go ahead with that..

1625	overriding FOOT_WARMER relay to force heat to see if can get above +12 F v ambient with just power..
		will try to keep it under 120.. lol 
1640 	pulling the override - hit ~121.. will have to see if that has any effect..


2024/10/18
0830 	is only about 45 F in the shed.. ambient is at 38 F... Was rainy yesterday, highs in the 50s.. 
0855	SAND is drained for sure... need to warm up, not sure exactly how will accomplish this
		Last night I tried using part of the old dryer heating element but it just shorted out...
		The entire element was drawing ~1300 watts at first, way too much for continued use.. and with the element
		cut now, not sure I could fire it up if I wanted to? 
		Maybe the heat gun?

0900 	The larger part of the old dryer heating element started drawing ~1700 watts before dropping to ~1500 watts
		is a bit too much for any sort of continued use.. 
0910	getting all the element out of the sand helped a lot, was dropping below 1500 watts but then I moved it a 
		little and accidentally ground faulted.. so grabbed the heat gun.. hehe
0915 	heat gun on low is ~650 watts... brought heater up to 100 F with that for testing..
0920 	shed 51 F and falling back down... but this did suggest placement of the elements on the heater is suboptimal
		as even at >100F at the temperature sensor, the elements drew 200 watts when I plugged them back in..
		So system is using power to warm the Xfer stuff rather than the shed directly? 
		I have more AC elements on order, due to arrive Sunday.. so for now maybe stick to the heat gun?
0925 	shed 50, heater 50, ambient 39... seems stable... 50 is a little cold but not too bad.
		Maybe just try to see how long would have to boost to get shed to 69 F in this state? 
0930	Using the heat gun on low, aimed at the back of the heater duct until heater is ~120, then repeating when
		heater < 100 ?
		So took less then 5 minutes to jump the heater +70 ish F to 120.. relay kicked off at 122 is when I stopped.
		but it only took about 2 mins to get <100 again.. would need more oomph to sustain it..
		so starting 0928 , turning of 0932 - 4 minutes @ 650 watts.. then 0935 hit 69 - 650*4/7=371 additional watts
		needed to keep the heater at 69? the relay cut out for about a minute maybe? so (650*4 - 150 )/7 additional...
		still >350 watts.. I think I'll just try doing the added heat elements away from the sand and just firing up them
		for shed heat see how that goes?
0940 	oh wow, the xfer pump is triggering cuz sand 47 < res 50 but is kinda suboptimal cuz could pull the heater down?
		Or is this how the SAND has been slowly recharged the last few days???
0945	Should be fine.. Even with that it is holding +10 F with me sitting in the shed.. so??


1445 	Just some thoughts on the setup here... Currently the 'heater' that is in place seems most effective at maintaining
		the reservoir temperature really? Like where the heating elements are placed it isn't so effective at blowing warm
		air for the shed itself.
		So a secondary xfer loop to another sand battery towards the back of the shed with a heater duct setup more to warm
		the air makes sense.. like it wouldn't even have to suck air through the sand at all, just the duct would be anchored
		in the sand to be able to get warmth from it? hmmm.... will have to give it a think and build it out later..
		Should have at least 1 temperature sensor and a fan for it, but also would need to run AC to it? may need to get
		more 12 AWG wire or canabalize an extension cord?? 

		And build a new foot warmer using the tote so its wider / shorter to be more comfy? 

1545 	trying to use the heat gun on low, aimed at top of sand battery...
1550 	oops, melted hole in home depot bucket of the sand battery... yay fumes.. lol
1600 	no effecet on sand battery observed, shed is at 60.26 vs ambient 44.24 though.. so can see how fast it drops 1 F
		like this?

		so applied heat of 650 watts for 15 mins - 650*15 ... temperature 57.02 to 60.98 - 650/4 = 162.5 watts/*F
		or 125 watts gave me 57 vs 44= 13 .. without counting battery or anything.. 125/13 is about 10 watts/*F ...
		(650+125) = 17 F .. 800=17 F... ~50 watts/*F ... 

		800 +y = 17x
		150 +y = 13x
		650    =  4x
		x = 162.5 watts/F 
		1605 got to 61 ... 650 watts for 15 mins (900s) is 585 K Joules ... raising 4 F - 4*5/9 = ~2.22*C
		air is specific heat about 1? .. 585 KJ / 2.22*C / (1 KJ/KG*C) => 263 Kg which is 579 Lb ... hmmm.. no 
		that don't sound right... 
		At 70 °F and 14.696 psi, dry air has a density of 0.074887 lb/ft3
		10*8*6=480 * 0.075 = 36 Lbs.. 16.3293 Kg .. so say 16.5 Kg or even 17 Kg... 17 Kg/ (1 KJ/(KG*C))= 17 KJ/*C
		5*C/9*F * 17 KJ/*C = ~10 KJ/*F ... so need to build 150 KJ of energy to be +15*F .. 
		what's that radiative thing again? oh right is to the 4th power or something... 
		5.67*10^-8 * E * A * K^4 ...

		so 45F in kelvin is 280 .. +15



				3PM						hours									shed<69, ambi<60
				res-ambi	sand-ambi 	shed<=69 	res<=69 	sand<=69 	 	shed-ambi<10 	5AM shed-ambi
		10/13 	+24 		+13			0100		midnight 	midnight 	 	0400			 +1
		10/14 	+21 		+10			2200		midnight 	midnight 	 	0400			---
		10/15 	+23 		+26			2100		0100 		0300 			amb>60		     +6
		10/16 	+16 		+11 		0200 		0300 		0700 			0500 	64/59 	 +5
		10/17 	+11 		+12 		always 		always 		always 			1800 	61/52 	 +5 	43/38 	rainy!
		10/18 	+14 57/43 	+15 58/43 	always 		partly cloudy 

2024/10/23
0900	was working on stuff for this but not noting it.. hehe.. working on new fonts and a different info display.
		Maybe should grab the 64x32 to do a large number display, just for the shed temp? hmmm..

		for now, want date, time, 9 temps, and possibly power usage.. and relay statuses.. so like 12 lines of info?
		and how many characters across??
	if I use a 3xY font, can have up to 16 chars across the rotated display...
	date/time show up on the LCD ... don't need them also on the OLED do I ? hmm...

	0123456789ABCDEF 	notes
0 	SHED 100F 			label of 4 chars - 9 chars total, 7px wide (fixed..)
1 	SAND1 100F 			label of 5 chars - 10 chars total, 6px wide
2 	SAND2
3 	RESERVOIR 100F 		label of 9 chars - 14 chars total, 4px wide
4 	ROOF
5 	AMBIENT 100F
6 	FOOT
7 	HEATER1
8 	HEATER2

maybe not fixed width font? 
R 4 S 3 E 3 V 4 O 4 I 2 R 4 
RESERVOIR
433344424 = 31 px? 
maybe as a bitmap and fill in temps using a font? 
128/9=14... leaves 2 px at the bottom... could do relays tiny maybe? 

°F => make this 1 character? or at least bake into the display -  7px.. 57 left. 
Then no space before number - label of 4 becomes .. 
so could use the 8x12 font? but even the 8x12 font had 1 pixel along each side.. and only touched bottom on few chars..
so a vertical of 13 is fine, use 7px for °F for 57 left.. if >99 then could draw a line instead of putting actual '1'..
so 55 left for 2 digits and a label.. if the label takes up 31 (4x 8xY), leaves 24 for the digits.. 12x13 digits?!?

actually, that seems ridiculous.. 9x13 maybe.. maybe.. 
ok so doing the whole thing either in multiple fonts or bg / overlay data.. 
backspace thingy no work.. so going to say 3x8 letters for labels, apparently can only get 7 unless I do something funky?



1345 	woot! got it working enough to see all the temps now. now to set it to be the default mode.. 
1355 	set to default and formatting OK .. sweet.

2115 	came out to the shed to start building the bigger heater unit.. 

2240 	oops... need something that can withstand high temps to hold the heater elements in place... 

		22:42:30 	triggered 2x heater element test, no fan yet.. starting at 74 F shed 68 ambient 64
		22:45:00 	 85 	+11 in 2.5 mins = ~4 F / min
		22:46:00 	 99 	+14 F/min
		22:47:00 	107 	+8 F/min
		22:48:00 	112 	+5 F/min
		22:49:00 	117 	+5 F/min
		22:50:00 	119 	+2
		22:50:40 	121 	+2 		cut power to elements
		22:53:00 	120 	power back on
		22:55:30 	114 	coming back hot after getting down to 113...

		with the fan, might actually stay on and under cut-off temp? hmm...

2300	OK enough playing with heater stuff an go inside.. 


2024/10/24
0830 	back at the shed.. is 50°F currently in the shed, 47°F ambient.
		maybe if error it should check sensor every 2s to see if it comes back quicker? hmmm... maybe at later time..
		For now, am going to work on getting the power meter thing going... 

		to do 'whole shed' will need to make sensored extension cord thingy...

		watts 	volts
		70 		1.6

1315 	OK.. got it reading approx watts, writing data to serial, csv lines, screen.. cool.. OK 


		so 10-15 mins to get up and then 

2024/10/26
1200 	worked yesterday in the shed a bit, improving insulation, built box for the reservoir and made holes
		for xfer2 and the returns. Swapped the 100A split-core sensor with one of the 30A that came in and
		tweaked the program a bit to make that work. 

		This morning I started work on the 200 watt heater, got the wood cut and started building it out but hit noon.
		Solar noon is at about 1310, and I wanted to get the system pumping by then. 

1215 	steps today - 
		plumb xfer2 pump
		test for leaks at xfer2 / reservoir
		confirm temp sensors for shed, roof, reservoir, ambient. 
		wire up 12V DC power supply
		connect R_LOOP relay / pump 12V
		wire up temp sensor HT_SANDA (by the door)
		connect R_XFERA relay / pump 12V
		wire up temp sensor HT_SANDB (at the back)
		connect R_XFERB relay / pump 12V
		install glass onto roof
		wire up temp sensor HT_HEATERA (inline with xferA)
		wire up 110V AC relays
		connect R_HEATER_A_ELEMENTS relay / PTCs
		finish build for heaterb 
		connect temp sensor HT_HEATERB
		connect R_HEATER_B_ELEMENTS relay / PTCs


1230	plumb xfer2 pump 
		test for leaks at xfer2 / reservoir

1245	confirm temp sensors for shed, roof, reservoir, ambient. 
	1250 		shed 		OK 	 71 F
	1310 		roof 		OK 	140 F
	1315 		reservoir 	OK 	 60 F
	1320 		ambient 	OK 	 61 F
	relay0 - R_LOOP active

1320	wire up 12V DC power supply
1335	
		connect R_LOOP relay / pump 12V
1345 	shed 	72 	reservoir 	60 	roof 	140 	ambient 	61
		
		System is running too dry.. need to add water...
1400 	added 4 gallons .. xferA or xferB is leaking at reservoir..
		trying to seal...

1415 	got it down to little drips.. will need to try again later, may have to empty reservoir?
		At least the floor isn't soaking and electronics are OK .. 
		shed 	72 	reservoir	61 	roof 	140 	ambient 	61
1430 	shed 	72 	reservoir 	60 	roof 	140 	ambient 	61
		weird.. no change? not a whole degree? but sure only 15 mins.. so moving on

		wire up temp sensor HT_SANDA (by the door)
1450 	shed  68 	sandA  63 	res  79 	roof  77 	was about 50 watts all-in with main pump, sitting at 20 watts now

		R_XFERA isn't triggered at moment.. double-checking conditions.. might have a cut-off if above comfy? 
1510 	not sure why not or if looking at wrong thing? 
		hmm.. altered rules to shut off XFERA and XFERB if shed is > comfy, to avoid overheating shed...
		is not expected to be a common rule to hit though..
1515 	oh... there's a lego blocking the LED.. duh.. hehe

		connect R_XFERA relay / pump 12V
1530 	shed  66 	sandA  58 	res  76 	roof  76 	amb  60 	door's wide open lol.. 

		wire up temp sensor HT_SANDB (at the back)
1630 	well, that took an hour to make a 15' cable? lol.. wow.. the zoning must be real
		shed  66 	sandA  60 	sandB  64 	res  71 	roof  72 	amb  61

		connect R_XFERB relay / pump 12V
1645 	shed  67 	sandA  62 	sandB  62 	res  71 	roof  71 	amb  61

		find/fix leaks
1650 	appears leaks sealed now.. woot.. moving back into position

1700 	spoke to soon on that leak situation.. everything was fine and dry and running until I tried to move
		the reservoir into position...

		looks like trickles out of loop and xferA .. will have to look into it another time, seems OK if not in position?

1710 	OK I think should call it now..

1930 	back in the shed.. no significant loss of water in reservoir.. 
		shed  59 	sandA  66 	sandB  63 	res  65 	roof  57 	amb  55

		still 4 F above ambient and its about an hour after sunset. wasn't good solar collection day anyway and
		this is still only passive solar components...

		Actually came out to the shed now to work on the RPI monitoring stuff.. mayhaps I forgot to bring the USB cord
		for it out.. but I haz alternate so yay? 

		Oh.. before that, let's reconnect the watts meter.. 
1935 	OK kill-o-watt says 40 and the thingy is reporting 37 watts.. not too shabby ... will need to gather info to
		make better conversion is all.
		Already setup to log last 60s average .. OK 

		setup watts sensor

1940 	back to the RPI monitoring then.. need to fix the number and display of temperatures and do something for watts..

2010 	OK output has a weird blank space.. oh.. right.. cuz there's a newline! duh...
		was quick fix.. now for the html status stuff?

		confirm monitoring / RPI 
2030 	OK that was pretty quick.. seeing 43 watts calc'd .. ~45 actual? hmmm
		Watts
		actual 	reported 	reported/actual
		40 		37 			92.5%
		45 		43 			95.5% 

2024/10/27 	Sunday
1005 	started at about 0830 working on installing the new Plastiko glass onto the roof panel.
		noticed the roof temp was actually above reservoir and main pump was on but only a little flow.
		Troubleshot first by splicing out loop 3, which is flattened / deformed, but still issue.
		Removed strainer from loop pump, cleaned it out with garden hose, put back into place. 
		Now there is good flow on all loops.

		After all that, added 2 gallons fresh water, as xferB was exposed. Will need to empty the 
		reservoir at some point, let it dry, and re-seal... Probably at night / after collection, as
		the floor is getting pretty soaked and a gallon/day loss isn't really sustainable.. Most 
		likely will start that Friday, so I can work on it over next weekend...

		I did get the first 2 glass installed so far.. so will head back out to do the last one.. afer I get a towel
		or something to soak up more water >_>
1015
		install glass onto roof
1120	finally got that sorted out.. also Miguel helped get the aluminum straps done for HeaterB ..

		Watts - watts factor = 3,960
		actual 	reported 	reported/actual suggested watts factor
		40 		37 			92.5% 			4281
		45 		43 			95.5% 			4144
		121 	110 		90.9% 			4356

1320 	was working on heaterB .. unit is assembled, ready for wiring.. 
		finish build for heaterb 

		heaterB wiring
		1 	Yellow 				+5V DC
		2 	Blue 				GND 5V
		3 	white 				temp sensor
		4 	white w/ 1 tape 	fan relay
		5 	white w/ 2 tape 	elements relay

		6 	+12V DC
		7 	GND 12V DC

1445		
		connect temp sensor HT_HEATERB
		connect R_HEATER_B_ELEMENTS relay / PTCs
1525 	ready to test... and the shed is 70 F.. .lol 

1540 	OK going to manually take the heaterB element relay hot.. 
		oh right.. have to plug it into AC.. 
		still don't have 12V DC to give the fans.. maybe can feed them 5V DC instead? 

1555	ok... maybe now... was over 500 watts total from ~95 watts
		tracking heater B 	total watts
		1557		 70 	>500
		1602 		 95 	 296
		1607 		113 	 288 	cutting off 	...	 ~10 mins to heat up without the fans running at all..

1610 	OK, now can we operate the 12V DC fans off 5V ?
1618 	we can indeed run the fans on 5V DC... now to bring back da heat...
		1619 	 81 	>400
		1620 	 77 	>350
		1621 	 76 	 335
		1622 	 75
		1623 	 75 	 330

		1625 	 75 	...

		something weird going on with the clock its not updating and sometimes RTC is giving invalid info...
1628 	secondLoops is >13,000 .. 	is usually around 1200 ... 

1635	is totally due to the RTC glitching out.. was using +5V for the fans too much?
		will try it again but need to reboot the system. no huge problem though just RTC mucked for ~10s
		goofed up the counter.. OK 

1640 	Yeah, the RTC isn't stable if heater B fan is drawing from 5V source... d'oh.. 
		am run out of wiring though to shunt 12V DC to them.. 
		Well, if is going to be separate connection, guess it could be shorter or ghetto-er?

		connect 12V DC relay R_HEATER_B_FANS
1725 	OK.. desoldered a barrell jack from one of the arduino style power supplies so I could use the 12V 
		variable controller that came with the fans i stuck in the exhaust... so now I haz fans.. yay

1727 	let's fire up the 200W heater with fans running.. total watts over 600 for a bit there.. wow
				heaterB 	amps (total)
		1729 	 69 		4.041 
		1730 	 69 		3.446
		1735 	 71 		2.998
		1740 	 71 		2.953 	hmmm... maybe turn the fans down to half??
		1745 	 74 	

1745 	Weird.. set the fan controller to almost off and is giving kinda nice gentle warm breeze.. 
		perhaps will leave this way.. not sure where to put it so guess will just leave it on the desk
		overnight.. 
		Need to switch the relays back to normal operation and see what happens.. 

		Guess I'll clear up tools and head inside.. can set up the desk for work in the morning.

2024/10/28
0855 	SHED  62 	AMBI  56  ... holding at +6 F! .. not too shabby.. 62 F is actually pretty comfy.
		I think I will set ComfyTemp down to 60 ... also the watts_factor should be adjusted.. 
		Actual volts reads over 120, so will update the status display to divide by 120 properly.. 
		maybe boost watts_millis to 200 as well.. 
0930 	OK cool.. the cutoff for the xfer to sand should maybe still be 70 though - comfytemp + 10 ?
		maybe set that later? 

0935 	maybe add light sensor to measure amount of sun? something to investigate later.. as well as
		door sensor?
		And maybe some sort of modulation for fine control of the fans? hmmmm...

0940 	OK.. gotta clear the desk off a bit and get logged into work.. .

1120 	power measure is way off.. will need to check into that

1940 	wired up heater A , power got fixed too.. so move past stuff

		check power monitor
		wire up temp sensor HT_HEATERA (inline with xferA)
		connect R_HEATER_A_ELEMENTS relay / PTCs
1945 	hung out to see everything kick on at 59 F.. Shed was <60 for only about 20 minutes.
		power usage during that time was roughly 3.5 Amps

		Shed temperature is still slowly trending upward.. system is basically all at 65 F.
		Will have to let it sit and see how it goes.. 

		Floor is oddly dry now.. not sure what happened to that leak before.. will continue to monitor.

2024/10/29 	Tuesday
0800 	Things doing OK in the shed. it is raining, and I see a leak dripped by my left monitor and 
		I still hadn't properly sealed the north half of the west wall... but otherwise under the door
		is doing OK
		the fan on heater A needs to be set to a lower voltage, it feels like its blowing too cold too
		fast..
		Shed is 50 vs ambient 38. 12 F ... not too shabby. Reservoir at ~54, sands at ~55.
		Definitely want to set the 'shed to hot' cut-off for xfer higher or just not use the rule at all.
0810
		5V to HEATER_A_FAN
0835 	No luck on that.. switched back to the 12V DC.. 
		I hear random drops on the north side of the shed now and then. Nothing major just kinda random.
		Not sure if it is comforting or unsettling.
		Shed is 55 vs ambient 38. So +5 F just from me sitting in the shed and/or what little warmth
		is to be had from the sun. Roof has gained a few degrees - it was at 38 F now is 41 F.

0845 	hehe.. I found 2x 128x32 OLED displays, using SSD1306.. because what I needed was more OLED 
		displays for this project, right? Maybe can use them somewhere in this mess, who knows?
		Actually, makes me think about how I'm using the 128x64 currently.. I could make it cycle to show 
		all the sensors for a few seconds and then a few temps really large? the condensed font is 4x5 
		(in 5x6 spacing). and the shed_digits font was 8x12 (in 9x13 spacing). if we scale up 2x that
		becomes 18x26.. too large to properly do 4 characters across... would want something like 16x20
		character set... would have to make one to use for the digits.. and then could display like 4-6
		temperatures at a time? hmmm.. will have to give it a think, there's other means to making easier
		to see display for these temps...
0905 	shoved the insulation into the ceiling a bit harder by the desk.. seems to have stopped the leaks
		dripping onto my wrists for now..
		Should get signed into work anyway.. OK..

1310 	Need to fix that thing with the fans coming on when barely warmer than the air... is f'in cold.


2024/10/30 	Wednesday
0900 	Roof was showing about 41 F but looked frosted over, so tossed some hot water from the house to
		clear the frost. Loop started soon after - roof 48 F res 44 F.

		Today is expected to be partly cloudy, high 47 F / low 37 F. Hoping that means good collection.
		light sensor and possibly humidity tracking on the roof might allow sensing if the panel is frosted
		over. Implies light sensor shouldn't be inside the panel but separate?

		Last night I mostly built out the foot warmer but stopped short of hooking it up as I did not
		want to fuss with having any wires pop off or other issues... need to better secure / enclose
		the controller system. also need to consider power management...  Ordered some 10 ft usb-c to c
		cables. 

0920 	getting back to the foot warmer build - is already programmed for 90 F.. so just need to finish
		build and hook it up? 

		foot warmer!

2024/10/31
1000 	
	Yeah, foot warmer did not work out yesterday. I couldn't figure out why the foot warmer temp sensor 
	didn't want to work when plugged into the 10 ft cable I'd made for it before the system went tits
	up - most temp sensors went ERR (only reservoir and ambient were still live somehow), and even after
	disconnecting the foot warmer stuff it didn't come back right away... 
	I ended up unplugging the whole thing and leaving the shed. Went shopping, got lunch, came back about
	2 hours later at 1230. Plugged it back in, it came to life like nothing had happened. WTF.
	So just logged into work. 
	I bought several cloth boxes and some other stuff so I could organize things better when I clean
	the shed sometime in the next week or so. I also ordered more wire and some other stuff which will
	be due to arrive in a few days, so hopefully getting the foot warmer to cooperate then will be simpler?
	maybe I should also order more heating elements? the 110 AC ones seem fairly easy to work with.
	As much as I _don't_ want to increase the amount of power required in the shed, the shed is still somewhat
	chilly when there's not a lot of sun, and the current heaters can't quite keep up with their fans?
	maybe just need to buy some of them 'heat powered' fans to use in the heaters? hmmm... maybe.. 
	Still need to finish insulating the reservoir and see how that affects things as well, since currently
	the reservoir is very much a part of the thermal mass the system is trying to keep warm?
	Maybe need to recalculate / reconsider things? hmmm.. 

1015 	setting the high cutoff for stuff to 80 using a #define ComfyTempHigh ... want to be sure to max
		solar collection even if shed is above comfy but not too bad..

1025 	Weird.. putting anything other than 60 in those cut-off rules is causing the system to not boot..
		just cycles first output and strTimeStamp
1030	moving the end of list to block those cut-off completely then.. 


2024/11/01 	Friday
0915 	ambi 36 	roof 35 	shed 46 	res 45 	sandA 48 heaterA 79
	The roof panel is frosted over so it hasn't warmed up yet. Need to figure out how I could detect
	such an issue and run the loop to do defrost, possibly use light sensor to see how sunny it is and
	then trigger heaterA / xferA / loop pump accordingly to defrost the panel? How to know when to stop?

	Possibly could try triggering on roof < ambient? hmmm... 
	Want to see what humidity is showing as as well.. strH / iH have always been present in dht_reads..
	So am updating code to gather these and also to spit out a light level.. 
0935 	code updated, uploading to arduino
	roof humidity 44 vs ambient 49 ... hmmm .. not sure what going on there... 
0940 	OK am going to manually trip main loop relay to see if I can defrost panel...

1000 	That was kinda bust... the reservoir and roof at 43 F. Roof panel started to defrost but is 
	still mostly covered. Cut power to loop pump. 
1003 	Roof temp has risen to 45 vs reservoir 43.. relay would trip at res+3 = 46, so it _only_ needs
	to gain a few degrees to start things off.. 
1004 	roof 44 ... arrgh... will have to toss some hot water up there or something... meh
1006 	roof 45 ... hey now, maybe this isn't so bad a thing.. 
1008 	roof 50 ... and I had oops'd reconnecting the relay so main loop is just starting now...
1010	SHED 51 SANDs 48 RES 43 ROOF 53 AMBI 38 HEATs 94 ... woot we is going...
		but yeah, need proper defrost rules to keep the roof clear, maybe if roof < 35... or light sensor
		correlation with roof v ambient ? 

	Still - moah power to heaterA wouldn't be a _bad_ thing... hehehe if I can get to some point where 
	heater A could actually warm up the reservoir, things might not be so bad? hmmm... 
	Don't need to keep reservoir at comfy though.. just need to heat it for defrosting, really.. 

1015 	OK gotta get to working


2024/11/02 	Saturday
0911 	Come out to the shed not sure exactly what I should work on first... Some stuff did arrive
	yesterday from Amazon.com, like wire and DHT11s... so maybe foot warmer first?
	Is possibly going to rain later so I guess I should start by sealing better under the north half 
	of the western wall... >_>

0930 	Cleaning the shed needs to be made some sort of priority... so add to the list, but next will
		work on the light sensor setup... should only require adding one check to the shed_heat sketch
		for monitoring and then can figure out appropriate values.. 
		also needed to shutdown the RPI to replace its power cord with a 10 foot one...

0945 	Actually... wiring the light sensor is kinda a problem due to the mucked up bus situation... 
		So should clean the shed to free up floor space so I can spread out LEGO and redo the controller.
		>_> damn it, I don't wanna have to clean up right now... so maybe I take the morning off, or even
		whole day... I still need to clean the hallway and my room after all?
		Really just need to learn to relax, I suppose...

		I guess while I'm out here, I can address the cron for the logging and add humidity data to the graph?
1000 	Hmmm... shed.log is about 100M / week... Maybe should look into logrotate? 

1020 	put a weekly thing in for logrotate for shed.log, set to keep 4, plenty for now?
		updated webtail.sh to point to shed.log directly for the last 500 lines..
		Switching it to 1024.. 500 lines is only about 3 minutes worth... 1024 gives about 7 mins worth...
		seems a good amount.. OK..

1025 	8x additional 110V AC PTC elements are due to arrive today from Amazon by 10PM.. Their arrival
	would make good catalyst for coming out to work in the shed, as I can work on bulking up heaterA.
	I should probably strive to limit / control power consumption.. likely could use last_min_watts
	for rules and switch relays off in some priority? Will have to give it some thought..
	Also need to figure out how much each relay adds to the usage.. should be calculatable from CSV data?

1115 	OK got some decent approximate values for average watt consumption for each relay, and actually
	some methodology to update / recalculate after changes. groovy. HEAT_A_FAN didn't kick on yesterday
	at all, so am putting it at 60 watts, since it would be full 12V x 1 fan vs ~4Vx3 fan for heaterB

	As far as rule for reducing power consumption - let's say want to keep <10 amps, should leave enough
	for Miguel to run a tool or something? so that's 1200 watts.. 1000 watts would be 8.333 amps.. eww..
	10A is prob fine.. so create an array detailing what order to dump if running, rob start with fans, footwarmer,
	heaterB, heaterA, xferA, xferB, loop ? hmmm.. should give it a think..
	But the logic could run once a second easily enough , just before the run_relays get enforced?
	should help to pulse things.. may try it at lower thresholds to see how effective, or would have to
	put some load on the circuit to be sure? 

	if (run_average > 1200 ){
		int guess_running = int(trunc(run_average));
		for (int i=0; i<numRELAY; i++) {
			int check_relay = dump_relays[i];
			if (run_relays[check_relay]) {
				run_relays[check_relay] = false;
				guess_running -= r_watts[check_relay];
				sprintf(cBuffer,"TOO MUCH POWAH! - %s watts! - nixing %s hoping to get down to %d",str_run_average,r_names[check_relay],guess_running);
				Serial.println(cBuffer);
				if (guess_running < 1200) {
					break;
				}
			}

		}
	}

1135 	is noteable that on power event, the system would come back up OK when power restored, but the RPI
	won't be logging.. the RPI would need to be configured to come up with the shedlogger running... kinda 
	pain point?

	additional PTCs are now slated to arrive this afternoon.. so yay am looking forward to that.. 
1140 	/


1625 	the 8X 110V AC elements arrived. I think I will add 4 of them to heaterA, doubling its output.

1808 	Beefed up heaterA ( now with 8x PTC thermal glued to exterior cowling ) ready to test?

	Test plan is simple enough... shed is currently holding at 60.98 F. is 49.82 F ambient and rainy.
	So just need to open the door for a bit?? 

1815 	Watts highest was 850! is dropping back down... HeaterA and HeaterB elements active.. 
1820 	Weird... settling to ~240 watts, heaterA is cold still.... hmmm.. unplugging it to check
1823 	OK was just bad connection at the relay itself.. so the relay didn't flip...
1825	currently ~235 watts, plugging HeaterA AC back in ..
		Spiked at 1252 watts... Shed is 55.94 F - am closing the door..

		Some small amount of smoke - whisps of smoke.. likely bits of WTF still on the duct / elements..

1828	Settled at about 450 watts.. ( actually 430 watts acording to store-bought)
1829 	heaterA fan just kicked on! <5 mins from heaterA starting up to seeing fan... temp still rising.
1832 	oops.. temp looked like it moved and I oops'd and disco'd it for a minute or so?
1836	HeaterA with 12V DC fan running got to 111 F before.. is currently at 103.. am excited to see
		how long it will stay kicked off for high temp.. rising at about 2 F / min.. another ~7 mins?
1840 	appears response time to raise shed 1 F after heaters triggered is ~10 mins.. not bad. 
		coasting on electric heat alone and fanA running currently 495 / 470 watts .. ~4.2 Amps
1842 	heaterA 111 F ... Appears it is starting to flatten out...
1850 	is light rain and no leaks, no drips or droops anywhere... well, maybe something in the south wall,
	but nothing visible... 
1853	vs yesterday is about +1.2 Amps ... and Weirdly maybe.. reservoir is starting to warm... 
	is heaterA just that powerful now? xferA isn't even running and roof is still dropping steady..
	Ambient steady... so must be heaterA modifications...
1858 	Was about 30 mins from shed being at 55 and heaterA kicking on to shed at 60 F and electric heat
	ending.. reservoir gained about 2 degrees in that time... hmmm..
	So does that mean it should cycle on for about 5 mins at a time when the temp starts to dip ?
1902 	/


2024/11/04 	Monday
1951 	Damn it, there's salt water all over my floor, reservoir or xfer somewhere still has some leak.
	But was not problem last week. Will need to trace it down and likely should implement some sort of
	water level sensor before too long... Should be some DIY instructions for that?

	Water level looks OK for now, so will just monitor for now...

	I'd come out to the shed because its been using ~4 Amps basically all day trying to achieve 60 F,
	but I hadn't been in the shed all day, I don't need it to try and keep such a high temp.

	So am wanting to add logic to the program to have it lower thermostat at night, or at least allow
	setting of the 'ComfyTemp' threshold from the device. 
	Why not both? 

	So first need to be able to set 'ComfyTemp'... best way around this would be to make the rules that
	check against a temperature check against a value in an array rather than a constant? 
2000
2110 	attempting to compile changes...
2125 	still fighting errors / warnings ... oh right, tempchanges != tempChanges .. silly me..
		compiled.. do I dare switch over the code? lol.. 
2127 	oops.. I forgot to put the bit for the temp changes to actually run.. lol 

2128 	lol wut
21:29:15.071 -> EvaluateRule : main: roof>res - DHT_LT_TARGET_DHT - RESERVOIR : 62.78 F + 661 >= 38.84 :  F - switching off 0 LOOP_PUMP
21:29:15.218 -> EvaluateRule : xfer1:res>sandA - DHT_LT_TARGET_DHT - SANDA : 60.98 F + 666 >= 62.78 :  F - switching off 1 XFERA_PUMP
21:29:15.306 -> EvaluateRule : xfer1:res>sandA - DHT_LT_TARGET_DHT - SANDA : 60.98 F + 666 >= 62.78 :  F - switching off 1 XFERA_PUMP
21:29:15.446 -> EvaluateRule : h0: shed<comfy - TARGET_TEMP_ON_LOW - DHT 0 SHED - 57.38 < 60 F - switching on 5 HEATER_A_ELEMENTS
21:29:15.541 -> EvaluateRule : m: no freeze - ruleDHT_LT_TEMP_ON - DHT 4 ROOF - 38.84 < 40 F - switching on 0 LOOP_PUMP
21:29:15.682 -> EvaluateRule : x: no freeze - ruleDHT_LT_TEMP_ON - DHT 4 ROOF - 38.84 < 40 F - switching on 1 XFERA_PUMP
21:29:15.776 -> EvaluateRule : h0 too hot!!!! - ruleDHT_GT_TEMP_OFF - DHT 7 HEATERA - 128.84 > 120 F - switching off 5 HEATER_A_ELEMENTS
21:29:15.918 -


    { "main: roof>res", ruleDHT_LT_TARGET_DHT, HT_RESERVOIR, HT_ROOF, R_LOOP, 2 }, //0
how did it get v=661 ? v is a BYTE value.. 

2138 	putting do_temp_events(); after counterHigh=9 made reboot loop.. ?!?!
		not even did init just flat reboot loop!??! dafuq? 
2141 	changing type of rule->v to int ?
2150 	OK  but isn't making change still ?
2205 	Weird.. is allegedly getting different values for rtcTime[2].. is counting up?
		oh.. had variables in wrong order.. ok 
2210 	Still .. why not changing ? 
2215 	cuz i had the logic exactly backwards.. if current time >= start time... not the other way around..
		Woot.. now ComfyTemp is set to 40 overnight.. can swap back to RPI

		thermostat changes over time 	/

		Also, still leak.. not sure if leaked more since I got into the shed, but that is definitey salt water.
		reservoir looks OK for now though. 

2216 	swapping back to RPI logging..
2218 	SANDB showing ERR.. arrgh
2235 	system just too fragile, a few other sensors popped as well.. need to get proper bus wired up ASAP.

2338 	I had started to wire up the bridges but then realized how long it was taking and how cold it is
		now in the shed without the heater system running at all.
		This will have to wait for morning... for warmth.. 

2024/11/05 	Tuesday
0820 	Feeling sick, so mainly just want to get the system back to working order for now so I can focus
	on rest and cleaning my rooms.. 

	Silly thing was spazzing out just resetting.. somehow flashing an older sketch and then reflashing the
	current one resolved issue... now is just saying err for all the temps.. as expected...

	Doesn't appear there was any further leaking after last night, floor is mostly dry.. 
0850 	Getting back to hooking up the new connectors.. and soldering the other bus...
0857 	Fuck.. is just doing reset loop until I flash the old font thing and then reflash the shed heat
		sketch... weird.. is like it can't boot properly or something.. ah well.. just wanted to be sure
		I was connecting right things.. hehe
1000 	OK.. the first 6 temperature sensors are connected... That basically gives passive/solar heating only.
	And is logging to RPI again.. so not too shabby.. just looks messy..

	Now for bus 2?
1120 	Yay.. testing partial bus 2 with light sensor connected outside showing success..
	100% cloudy about an hour before solar noon is about 400... roof is 13 F above ambient.. 
	This is just connected to Arduino Nano though.. need to finish soldering bus 2 before I can connect
	to the actual system, but it should work about the same...
	The actual system doesn't have anything connected and is giving a reading around 330... but losing
	the sensor with the resistor in place would mean a reading of 0, and sensor shorted gives 1024...
	My task light was giving about 600... so am unsure what full sun would give but doubt it would look
	like short.. could adjust resistor if detecting full sun is issue though... 
1140 	OK... back to finishing bus 2...

1500 	OK bus 2 has a wire crossed between heaterA fan relay and heaterA temp signal... and some of 
	the connections for bus 1 are iffy when you have to touch the setup.. but I have heat again... amazingly.
	I am an xfer pump down though.. xferA is toast... I had to add about 4 gallons of water today, but
	I think the sounds I was hearing was xferA eating it hard.. looking around it, seems likely it was
	the source of most of the water... so possibly it was leaky and died when temps were very low and
	the NOFREEZE regime was activated. 
	Will have to give it a think before replacing it. System should be OK for now though... probably
	nearly the amount of salt it should have had? 
1510 	/

2024/11/06 	Wednesday
0905 	Last night I had to run out to the shed to fix ERR on heaterA/HeaterB sensors. Bus 2 power appears
	to be somewhat iffy.. heaterA temp sensor also came apart, the corner of the LEGO holding the relays
	was melted, as was some of the Gorilla tape that had been holding the sensor, and since the wire was
	a bit short, the melted corner of the LEGO was causing the wires to be pulled out.

	The roof sensor also went ERR, but I did not see anything wrong on the controller end, and didn't
	wish to go up on the roof in the cold and dark to go look... Besides, since the temp sensors ERR to
	255, the loop pump would just run continously, thinking the roof was hotter than the reservoir.

	I need to sort out when xferA failed and figure out a suitable replacement or look into joining xferA
	loop with main loop for now. They could be joined in the reservoir easily enough, just it would 
	thermally couple the sand battery and heaterA to the reservoir... Which is kinda what happens currently
	during xfer to sandA?
	Would still prefer the seperation, so that xfer to sandA doesn't require running through the roof panel...

0915	
		add light level sensor to graphs
0925 	well, that was easy enough.. and apparently sunrise 7:05 AM was about 64. It is currently sunny,
	with about 10% cloud cover, giving a light level reading at about 575... Considering how shady it
	is in the early morning with the trees across the street and all, it makes sense that there was significant
	jump at about 9:10 . Yesterday was cloudy and light levels were around 400.. 
	Seems off that sunny on the light scale looks to be about 70.. so readjusted the scale to top out at 733..
	Puts 600 inline with 100 F.. 

	Oh yeah, need to seal the roof panel since I cut into the tape to fix the temp sensor.. is just cold
	outside though.. At least waiting until later I can buy more waterproofing tape?

0945 	So Monday when I went into the shed I thought the water level was OK but there was water all over
	the floor. Then yesterday I noted didn't appear to be more water leaked out but water level was actually
	low. XferB worked fine after filling but that's when I noticed xferA wasn't working. I don't recall
	eyeballing the streams Monday.. 
	So it possibly died between leaving the shed Sunday after getting called about work, and Tuesday when
	I refilled the reservoir... xferA should have been using about 25 watts.
	HeaterA upgraded should be about 250 watts... will need to calculate.. 

2024/11/03 10:57	58.64	54.68	54.68	57.38	76.1	39.2		115.16	102.2	1	1	1	1	1	1	1	0	548.22	
just pumps - ~125


		figure out how xferA pump failed

1010	I think xferA pump failed either due to running dry or some wires shorted out against its case...
	Either way, basically need a new pump.. OK 

		need new xferA pump.. >_<
1015 	ordered same kind off Amazon, should be delivere tomorrow, so can install this weekend. OK. 

2024/11/07 	Thursday
1040 	Was a bit panicked last night, the roof sensor showed 17 F for a bit... At best the water would
	freeze at about 25 F, actually a bit less maybe as long as it flows... The reservoir only got down
	to 28 F, and everything other than xferA is working as expected.

	I added the foot warmer.. ComfyFoot is configured to be 60 F except for 0700-1800, where it's 100.
	Currently its warming up at about 10 F / hour, the temp sensor is barely in the surface of the sand
	in the back left corner, at least a few inches from the buried heater elements / heat spreader setup
	that is sorta centered and about half an inch down. So even at 45 F on the sensor, the very middle
	of the warmer felt warm to the touch, possibly 60-70 F. 
	Will tune the rules for ComfyFoot once there's more data how it behaves. 

	The foot warmer adds about 60 watts, as was expected. Shed is currently 60 F vs 36 F ambient / Sunny.
	So 60 F should be maintainable during the day when it is all done... I still have about 1A worth of
	110 V AC heater elements that I would like to implement into a 'heat dump' - just a heater that would
	be allowed to get as hot as it wants to be, it will be built to be as safe as possible even at the max
	~518 F of the heater elements themselves. I have 4 of them, each has a max draw of 1A, but that would
	be assuming a cold start. 

	Should add the current limiting code as well.. idea would be to keep under max of say 10A based on
	the higher of last minute or current reading..

1110
		current limiting code...
1155 	OK that's all roughed in there.. Will have to test it out sometime, likely as part of rebuilding
	the controller...
1210 	/


2024/11/08 	Friday
0820 	Working towards the idea of of the 'heat dump' / furnace sort of heater, am planning to take
	an Arduino nano and make an electronic thermometer using a DHT and a 4 digit segmented display.

2024/11/09 	Saturday
1120 	Yesterday, I did get a working thermometr thing using a DHT11 and a 128x32 OLED. Maybe I should
	add capability to monitor power as well? hmmm.. 

	I also got the 'furnace' thing started... currently I've glued 4 of the 110V AC / 270 C elements
	to some galvanized steel duct, which has a specific heat of .470 J/g-°C - which is about half the
	specific heat of alumunim ( 0.9 J/g-°C ). In terms using the heating elements it is needed to transfer
	as much heat as fast as possible - a lower specific heat works against this as the difference in
	temperature goes down faster... But the transfer to air would be favorable? hmmm

	If one assumes the element internally at 270°C but starting from 0°C everywhere else...

	Considering radiation from the outside of the tin to the air as well as conduction to the air..

	The formula E = σT4 is given, where E is the radiant heat emitted from a unit of area per unit time, T is the absolute temperature, and σ = 5.670367×10−8 W·m−2⋅K−4 is the Stefan–Boltzmann constant.

	The heat transfer formula through conduction is given by: Q/t = kA((T1-T2)/l), where Q/t is the rate of heat transfer, k is the thermal conductivity of the material, A is the cross-sectional area, T1-T2 is the temperature difference, and l is the thickness.

	will consider the surface area of the tin to be 3M^2 and will say it is 5mm thick.. the "heat sink" would be considered
	as having 0.001m^2 contact area with .1m thickness. ( 4*0.025m*0.1m = .01*.1 ) 

	so conductivity from element through heat sink - 52*0.001m^2 / .1 = .52 W/°C
	
	and conductivity from heat sink to tin - is small area of contact, maybe 200mm * 2mm going through 2mm- 
	so .2*237=47.4 W/°C ... being all wild guesss, will use 50.. 

	finally, for conductivity to air, will consider only the immediate 1mm around the tin.. 
	so 0.03W/(mK) * 0.4m^2 / .001m = 12 W/°C

	the radiative heat from the tin to the air would be 5.670367×10−8 W·m−2⋅K−4 * 0.4m^2 = ~2.6x10^-8 W/K^4

	flow 	AC -> element -> heat sink -> tin  ->  air 	...
	heat capacity	.9 			.47 		.9 		1
	thermal conduc 	/			52			237		0.03 W/(mK)
						.5 W/°C  	50 W/°C 	12 W/°C + 	 			
	start temp(°C) 	270 		0 			0 		0
	time/temp(°K)	543.15 		273.15 		273.15 	273.15
	1

1435 	Wow is already the afternoon... WTF.... got lost with that calculation... but I think I actually
	have a model for the shed situation itself.

1500	ooof.. ok need food.. but anyways... shed got to 72 v 50 ambient today - which is about 22 C v 11 C
	That calculates to about 600W radiative, assuming the average R-factor of 4.. doubling up the roof sorta
	balances out the floor I guess.	So at least in the sun we have 600W mitigated.. woot. 
	Last night about 3AM we had power usage of about 384 watts with temps 44/32 - which calculates to 234 radiated
	That includes .7A overall power .. with the 3 pumps use 1.3A - about 156 watts.. 384-156 = 228 watts.. 
	so seems basically balanced out then.. woot!

1520
	So maxed out we have about 600W currently mitigated.. which includes the ~60W from the new heater cuz it is
	currently running.. is only adding a few degrees currently with that 60W .. Moving from galvanized sheet metal
	to aluminum for the heat sink should improve the situation a lot there.. 
	Adding aluminum fins to heater B would increase power there as well... Heater A would need a redesign to
	take advantage of swapping to aluminum, since its heat elements are currently external to the duct >_<.

	Swapping the current galvanized heatsink thing within the furnace for say 0.5Kg of aluminum	could allow the unit
	to go to about 100W...

1550 	implementing an aluminum radiator setup to increase the conductivity to the air to 46 gets to 110W
	Attempting both and aiming at allowing for 60/32 performance .. getting x4 conductivity to the tin would
	pull ~213 W ... another 1-1.5A , where the current implementation is expected to get 55/32 performance... 
1600 	Faffing about with it just to add another 1A power consumption to squeeze that last 5°F doesn't seem worth it.
	Realistically, a worse case scenario would be like 20 something ambient - 44/20 ... Assuming it will normally
	get to at least 32°F - should expect 54/32 ... 
1620 	average high temperature in West Jordan, Utah is the worst Dec to Feb at about 40... ok
	Also, if I run 1A more of anything in the shed I should likely achieve 60 easily.. And this is without factoring
	solar collection at all. 
	If anything, could get more heating elements at a later point and put into heaterB using aluminum fins.. Or
	even just rework heaterB to have the 2 heating elements per fan on sheet aluminum.. probably better option?
	Would be cheaper - just need sheet aluminum.. ~$30 or so? Easily boosts conductivity from the heatsink by x4,
	and then the fans would really work well.. same with heaterA - rework it so that the heater elements are
	suspended in the duct on aluminum sheets... Maybe can thrift some good metal for those.. like later..

		'heat dump'	long term stove / heater furnace thing... Furnace? call it a furnace? lol... 
		tape up the roof panel

1630 	some minor cleanup of stuffs I got done.. 

2045 	Thinking about how to integrate the Furnace into the existing setup but not sure where it would make
	sense... It is a constant 60W currently, it shouldn't be the make-or-break as far as power consumption,
	its just a small source of constant heat... Could see maybe having it shut off when the shed is above
	comfy, but the spike when it starts up is a little worrying.. Even as it stands now, I should possibly
	split heaterA and heaterB into multiple sections with their own relays, if only to offset spiky starts?
2050 	/

2024/11/10 	Sunday
1055 	Came out to the shed to find that the 12V+ to Foot Warmer element shorted against GND to heaterA fan,
	resulting in small damage to heaterA fans's GND but toasting a few inches of foot warmer 12V . I taped up
	heaterA fan GND but am leaving the foot wamer 12V disconnected for now - the relay terminal is a little melted
	and foot warmer isn't really critical today, so its repair can wait. Just something else to add to the list.

	Plan for today is to finish work on that standalone temp/humidity sensor - need to finish the font, finalize
	program, solder pins to the LED, and stuff it into some sort of container, maybe a little LEGO deal for funzies.
	Putting other stuff on the list.. 

2024/11/11 	Monday
1430 	OK, time to focus on getting shed back together so I can work tomorrow.
	I did manage to cut a ~5"x12" section from the ~11x17x 1/4" aluminum plate I ordered from Amazon,
	and fit 2 heater elements to one of the shorter edges and shoved it down the duct of heaterA.
	This has been drawing ~100 watts, and heaterA duct temp has been steady at ~15 F above shed temp.
	So it is basically acting as sort of a "pilot light" for heaterA

	11/10 	rework furnace using aluminum and test.

1435
	Further reading up on thermal conductivity, dry sand has about 0.25 W/m-K, about 8x that of air..
	And wet sand has something like 2.5 W/m-K, about 8x that of dry and 80x that of air..
	Thermal conductivity of PVC pipe is .25 W/m-K though, same as dry sand.. so wet sand could possibly
	radiate to the shed more easily but the conductivity of the PVC would still be limited.
	Conductivity of plastic is 0.02 to 0.05 W/m-K ... interesting.. 

	I brought a gallon of fresh water out with me to the shed for testing a wet sand battery. 
	Res 78 	SandA 72 	SandB 64... I think I will try adding the water to sandB
1442
	The gallon of water was straight from cold tap inside.. Checking with standalone - gives about 64 F.
	So about same as SandB at this time.. interesting.. 
1456 	I've only managed to get about half the gallon into sandB... with heaterB sitting on it I only have
	direct access to a small amount of its surface, so at best I could soak half the sand? 
	Is just taking time to seep in from the surface too.. 
1500 	OK I think I should put water into HeaterA sand, to see if that helps with no freeze..
1508 	OK.. Added some sand to ensure the lower elements of heaterA wouldn't short but should be good
	now.. or disastrous.. 
1510 	No change seen in sandB .. HeaterA temp has dropped to 80 F... Is it possible that heaterA is warming the
	Reservoir water? ill have to monitor how it changes, but if heaterA==Reservoir==sandA that would be promising
	result.

1515 	foot warm relay needs replaced... but footwarm took long time to reach 100 F - like 4 hours.
	So possibly for now could hot-wire footwarm to just run.. it likely couldn't reach actual dangerous temps?
1523 	Power usage is 2.2A vs 1.2A before hotwiring... expecting it should coast to ~1.5A .. No change was noted
	in power consumption since wetting the sand in heaterA, but that may be due to xferA running as well?
	So heaterA temperature is stabilized currently between reservoir and furnace, so no additional power
	consumed to maintain that ~80 F
1527 	if footwarm seems too hot, could add more sand... ?

	To avoid further mess inside the shed, the stuff outside could be moved between shed and the fence. 
	Would at least look a bit better...
1605 	moved heaterA sensor to show temp of air coming out of it. Furnace is making 102 F air! 
	So with only 'passive' electric heat, ~2A used, in the shade, door open - 69 F vs 61 F ...
	That's about 245 Watts radiant loss..  Which basically matches the inputs?

1615 	Maybe could work out using just an 11x17" sheet of aluminum as a heater.. like I dunno put glass over
	it or something use as a mirror? hmmm... 

1710 	Whoa, just zoned out with a spreadsheet... that has to be a sign I am burnt out.. lol.. 
	FootWarm is already reading 93 F.. am gonna put more sand in there.. Just to have more sand between
	my feet and the element so will feel more comfy as a temperature. 
	The constant power to furnace and the footwarmer might keep the shed from freezing overnight most the time?
	At the least, once the foot warmer sand and heaterA sand get to stable / higher temperature, they would act
	as solid thermal mass to stabilize the shed temp?? maybe???
1520 	OMG I need out the shed get some dinner.. do.. anything else.. lol 
	I _did_ clean outside the shed a bit, mostly moved trash/stuff to north side between shed and fence.

	hmm... do I want to flash new program befor going inside? prob not.. why risk it? same with moving the thing...
	see how I feel in the morning? 

	hmmm... footwarm looks plateaued at 93 F... that _might_ be its capacity currently. Maybe should rework it
	at some point with aluminum plate ? still needs relay replaced though..
1525 	/


2024/11/13 	Wednesday
1245 	Yesterday at about 1800, I moved the 5x12x1/4" aluminum plate to sandA and attached 3x 110V AC 
	PTC to the edge, burying it with just the PTC wires poking out of the surface. This as well as covering
	the roof panel with one of the canopy walls helped maintain a roof panel temperature around 36 F.
	Upon inspection at about 630 this morning, the canopy wall had slipped down a bit - so possibly it
	could be enough to cover the panel to help avoid it freezing at night, or perhaps a better solution
	should be sought.
	So last night, with these conditions, LOOP_PUMP ran continously all night, sandA maintained above 70 F,
	Reservoir dropped from 53 F at 1800 to a stable 45 F. This suggests that improving sandA and heaterA
	thermal conductivity to xferA loop pvc should allow greater ability to keep the roof panel from freezing
	at night, as well as the capability of charging the sand batteries.

	The general concept of how the sand batteries should be operated needs to be reworked, as the original
	idea that they would essentially passively maintain the room temperature has not panned out. To passively
	maintain the room, the radiative properties of the system would need to be tuned by either increasing
	the temperature difference or increasing the surface area that the sand could radiate from.
	Increasing the storage temperatures required might be difficult, but aside additional power needs, it
	may be enough to alter the logic of the system so that it attempts to keep sandA/sandB/reservoir within
	some amount of each other? Should attempt to model the system, using recent data of it running to tune variables.
1315 	/
		
1350 	put a second skin on the shed? aluminum flashing - 10"x50' for $40, 20"x50' for $75...
		20"x50' = 83.33 square feet.. not counting the roof would need about 2x(6x8+6x10)= 2x6x18=216/83.33 = ~2.59
		so ~$225 worth of aluminum + paint... 
		Plywood - using even 1/16" at $16 for 4x8 sheet - 7*16=$112 
		Tarp - 6x8 for $11 - would need 5 - $55 for heavy duty, or possibly 5 mil waterproof 20x20 ft for $40.
		3.5 mil plastic sheeting? $15
		6 mil plastic sheeting? $20 ...
		Plastic does have thermal conductivity similar to air... might be best bet? Should strive for 
		affordable, tough, and simple to apply...

1900 	OK.. if I can get heaterA and heaterB to 300 W each and improve conductivity through sandA and sandB to 3.0
		( which would be 10x...) and didn't have sandA or sandB powered.. then starting from cold, basically
		everything 40 F except heaterA starts at 100 cuz is just after warmed up.. 150W of sun ..
		eh.. not so good.. whatev..
/


2024/11/14 	Thursday
0824 	PayDay! woot! ordered aluminum flashing, replacement 20V Worx circular saw, and thermal glue,
	all due to arrive over the next few days... is very nice. Plans for this weekend currently still same -
	install flashing, update heater stuff, relax, etc.. 

	Just fixed the footwarm relay, will need to optimize sensor placement and such. 

	Am curious exactly what wattage I am getting to the roof panel.. 
0910 	Appears to almost correlate exactly with light level numbers?1? light level 336 calc'd about 260 W
	That's a little coincidental. Also maybe should report average of light last min rather than spot check?
0915 	/ OK logging in for work.. 


2024/11/15 	Friday
0800 	bus2 was offline for about 2 hours, from 0500 to 0700 when I noticed the errors and pushed it back into place.
	I mucked up earlier calculations - sunlight in winter is more like 50% ... so peak solar, solar noon in summer
	would be expected about 1000 W/m^2 ... I should expect peak about 500 W/m^2 ... which basically correlates to
	the measurement I get from the light sensor (strangely? considering the resistor I grabbed was kinda random?).
	the roof panel is approximately 90x36 inches - ~2.09 m2 ... which puts expected max wattage from solar at
	1kW best case / 500 W on cloudy/overcast days? ... 
	I should try to get some more exact figures for weights on the thermal masses, as I have been largely guesstimating..
	But yesterday I calculated ~270 W net .. 
0848 	OK crunching with a proper spreadsheet, without accounting for loops being on/off, it looks more like 
	an average of 20% efficiency / peak 37% efficiency last 24 hours... There was also cut-off early - there
	was still watts of sun to be had but the reservoir would have been too hot to xfer to. 
	There was not a lot of energy transferred to sand batteries... This doesn't account at all for inside the shed
	itself... one would have to add in the total power consumption and subtract out the radiative loss from the shed
	vs ambient to get a full picture.. but for sake of things could say that sun -> heat system should be at 80-90% ?
	or consider power consumption vs radiative loss - as in, what % of needed energy is being offset by electric power?

0925 	Graphing thermal needs vs watts consumed suggests a peak of about 750 Watts net from solar. Which seems
	off but from 10AM to 4PM, there was only about ~250W consumed, but shed heat calculated to ~1000W at peak.
	Weird.. So mostly day-time performance when sunny is fine... just not efficient enough to store for overnight?
0930 	/


2024/11/16 	Saturday
1450 	Yay, stuff came in to upgrade the system!  Woot!
	I already had put that 5x12x1/4" aluminum plate with the 1 PTC that's wired for constant heat back in the middle
	of the heaterA duct. Adding fins using the 5x7 flashing might help boost that a bit... would need to unplug it
	for the while is all.. 
1455 	disabling heaterA so it can cool enough for upgrades... best method here is probably disconnecting the wires from
	the pins at bus2 and the patch connector... constant is unplugged.. OK
1457 	first up for upgrade maybe should be sandA... so will unplug xferA at the relay just to be sure.
	Currently roof 59 / res 55 / sandA 54 / sandB 63 ... door about halfway open.
1459 	/
1515 	Cut flashing for sandA... Shed is at 52.. heaterA 68 ... switching to work on heaterA elements upgrade..


2024/11/17 	Sunday
1020 	HeaterA is underpowered currently - adding PTCs outside the duct does NOT contribute very much at all
	to its performance.. need to increase surface area of metal within the duct so it can get hot enough.
	Also, woke up 8am to frost on the ground and bus2 was dead, leaving heaters totally disconnected, reservoir
	was 31 F ... 
		Currently, roof 95 reservoir 52, sandA 38... sandB 51 shed 53.. I think I should start by disabling
	the external PTCs on heaterA and prepping things for heaterB rework...
1030	/

2024/11/18 	Monday
0840 	white canopy wall fell off the roof. The mylar blew off the roof about 0345, ending up in neighbor's
	yard. Will need to buy tarp for the roof and make better setup to keep it on there... 

		Yesterday, I tested a few configurations for adding aluminum flashing to heaterB - currently the
		central unit's configuration using 4 pieces of flashing to form like an asterisk is allowing it
		to do about as well with 1 PTC as when it had 2... 

		I worked on heaterA as well - now it has 6 PTCs total and the fan cycles on/off about every 5 mins.
	It is unclear how well heaterA would warm water for the reservoir though. I may have to remove the sand
	in heaterA and rework it to have better thermal conductivity to the PVC. 

		bus2 was shorting out yesterday between +5V DC and GND - I had to implement workaround using WAGO
	connectors, but the unit is still very sensitive to being touched.

		plan for today - I want to empty sand from sandA to facilitate adding the flashing. 
0850 	/

0930 	sandA reworked, aluminum flashing against the PVC from xferA and additionally spread throughout
	as  wavy sorta thing. initial temps were reservoir 50.90 / sandA 48.x , but sandA dipped to 47.30 
	within a minute or so, sparking xferA .
	will want to track roof/res/sandA for a bit ...
															heaterA?
			shed 	heaterA 	roof 	res 	sandA 		gradient roof->sandA
	0930	57 		106 		65 		50 		47 			Y/15/ 3
	0935 	56 		113 		62 		51 		47 		 	Y/11/ 4
	0940 	55 		109 		57 		52 		47 			Y/ 5/ 5
	0945 	55 					55 		53 		47 			Y/ 2/ 6
	0950 	55 					55 		53 		47 			Y/ 2/ 6
	0955 	55 					55 		53 		47 			Y/ 2/ 6
	1000 	56 					55 		53 		48 			Y/ 2/ 5 		sandA up 1/30@5
	1005 	56 					54 		53 		48 			Y/ 1/ 5 		loop stopped
	1010 	56 					52 		53 		48 			Y/  / 5
	1015 	56 					50 		54 		48 			Y/  / 6 					
	1020 	56 					49 		54 		55 			Y/  / 			
	adjusted sandA sensor but even trying to be sure of placement, is still high... ? 


	There isn't a lot of xferA loop in heaterA.. maybe 3 loops worth and is at the bottom.. 
	heaterA isn't going to be effective for NoFreeze protocol without some reworking...
1000 	For now, I've just taken a bit of the xferA hose going from sandA to heaterA and moved it so
	it would get warm from the sand near the top of heaterA.. About 6" of hose should be directly affected..
1024 	Adjusting PVC for heaterA more required moving sandA sensor out of the way.. now appears sandA reading
	higher.. unsure if cuz placement or moving heaterA. 
	It has started sleeting / raining.. or at least is cloudy and windy, maybe is just leaves rustling.

	With the loop OFF, unable to tell how heaterA would interact with xferA ..
1030 	/

1045 	Added a PTC externally to heaterA - that's #7.. Not glued or anything.. Might help with heating
	xferA, but worse case it only adds ~60 W to the system without really visible effect?
	heaterA has been hitting the >shed+60 status about every ~5 mins, am curious if I can push it to max
	out and cut heaterA relay for a bit.. 
1048 	heaterA 118 v shed 57 - fan on... 20-30s then off, drop to 110 @1050 ... 
1055 	whenever I finish upgrades to heaterB, maybe shed will be able to hit 60 on cloudy day like today...
1102 	Added a bit more sand to heaterA, just trying to not feel so helpless, useless... I don't feel up
	to really doing too much today, and feel disappointed with performance of this system... 
	On a typical day, the shed would get to something like +10F without any of this running, I think... 
	It doesn't seem the system adds much, but it does provide heat... and should be plenty of power?
	I am too stubborn to admit defeat, to say all this has been worthless. 
	Hundreds of dollars worth of wire, PVC, ducting, sand, etc etc... hours and hours of research, calculation,
	implementation... I've picked up a lot about thermodynamics and designing/building stuff, and programming
	arduino.. Did  little soldering. Burnt myself a few times....

	Is just feels so much like that typical manic state I get to a few times a year... And after all this,
	I am just tired of it... but I am having trouble disengaging from this project because I do need the 
	space, I do enjoy spending the time outside, and having this separate place away from the fam that I
	can dork around in and make noise and all that.. I just haven't gotten it to point I can just enjoy it...
	Like I can't relax... I have to check the stats, have to fiddle with this or that... 

1125 	I was worried about having money and keeping up cashflow, and in the mania of this shed and heater
	stuff, I have gotten to where I am flat a week before payday, that I am paying rent a little late...
	I am not sure even of who I am any more - I don't think I am trans, but I've found the feeling of being
	on estrogen to be euphoric, life-affirming. I do kinda want large breasts, and maybe I would nair my
	whole body or something if the bits filled out more womanly, but otherwise... I am just here.
		Where in the past I was hyperfixated on sex and stuff, I have been celibate the past few years,
	originally not by choice... But I don't even try to seek it out, not even in any sort of passive 
	way. 

1130 	The shed is at 60.26 . the roof has warmed up to 73.40 ... It kinda feels weird to only have 
	loop and xferA running.. xferB is not yet started as sandB has been kept at about 56 F, maintained
	by heaterB and not being used for no-freeze...  Almost seems to be a miracle the shed is at 60 today.
		But that is good thing - even with just this little bit of sun, I can collect some data on the
	work I've done on sandA today. Have I improved the transfer from the reservoir to the sand battery?

		Is odd feeling again like I don't know myself... In the past, this seemed to come in waves or 
	cycles, every few months or years being more self-aware for a while before drifting away from that.
	Is this because I started estrogen pills vs continuing to use the gels and creams? I had read 
	that the gels can degrade rather quickly, on the order of weeks... And I had the gels for months.
	But on Saturday I had taken the first of the pills, and yesterday I got my other meds I was missing...

		So, maybe that time inbetween, when I was just coasting or just anxious or whatever... Maybe that
	was just a state of low energy, of ill health... Of not taking care and not being able to self-care.
	So maybe doubting myself and this contraption I've worked so long on is a good sign. 

2024/11/21 	Thursday
1030 	I just upgraded pane1 of the roof panel with backing insulation foam and mylar. The hope is that
	reducing the space inside so the hose is touching the glass and adding the reflective surface underneath
	will improve collection efficiency and get reservoir temperature up faster.
	I plan to move the roof temp sensor when I do pane2, so that it is between some PVC so would be giving
	a reading of the PVC rather than air or wood or glass..
	It is currently 45 F ambient but gusty.. so will take a break before starting pane2.

1145 	insulation / mylar upgrades completed to the panel. Currently roof 92 res 68 shed 63 ambi 53
	Checking data for last half hour - which would be the during the time pane3 was open for upgrades..
	1115 	roof  91 	res  60 	diff 31 	1145 	roof  88 	res  67 	diff 21 	
	resevoir is estimated at ~25 kg and specific heat ~3.8 kJ/kg*K so ~95 kJ/K or ~50 kJ/F ... 
	so 7 F in 30 mins - 7 F *50 kJ/F / 1.8 ks = 194 W ... not bad.. the shed is currently using ~230 W total,
	including xferB, and I didn't include sandB in this calculation, but sandB only went up a few F in that time...
	The shed does radiate heat as well.. something like 5.5x10-7W/K^4 ... ? 	really should doof up a chart for that..

	sandA and sandB are about 10 kJ/F each... used will just be total for the shed.. 

	should count in radiant loss for sandA/sandB vs shed temp? maybe not.. 

	light level currently - 500+
1145 	 88 	 67 	 71 	 59 	 63 	 51 	21,//, 8 															
		roof 	res 	sandA 	sandB 	shed 	ambi 	diffs-rf-r,r-A,r-B 	avg 	watts change 	total 	radia 	used 	need 
1200 	109 	 71 	 71 	 60 	 64      53 	38,--,11 	29,//, 9 		222,  0, 11 	 231 	 289 	216 	 29%
1215 	113 	 75 	 70 	 61 	 66 	 55 	38, 5,14 	38, 2, 7 		222,  0, 11 	 231 	 370 	114 	 16%
1230 	114 	 79 	 70 	 62 	 67 	 55 	35, 9,17 	36, 7,15 		222,  0, 11 	 231 	 370 	110 	 16%
1245 	 98 	 80 	 70 	 63 	 67 	 55 	18,10,17 	26, 9,17 		 55,  0, 11 	  66 	 370 	110 	 21%

1240 	looks like maxing out at about 231 W net from the system.. shed warming up in the sun is definitely a help..
	shed + loop + xferA + xferB is about 110 W ... so it _is_ net gain for clear day....
	average light level about 575 giving difference >30 yields ~222 watts, but 450 giving diff ~25 only yielded 55? 
	That seems off... maybe panel is partially covered or somethinng? 
1255 	/	whatever.. can analyze further another time..


2024/11/22 	Friday
0948 	I have been contemplating the issues presented by the No Freeze protocol, the largest being that sandB does not
	participate at all, and that heaterA is not effective in adding heat to the reservoir water. SandA's ability to
	assist during no freeze is also unclear... more data would need to be gathered...
	The no freeze condition needs to be altered as well - it shouldn't kick in so drastically at 40 degrees when it is 
	only to avoid the system freezing over. It should be more nuanced and the level set more like 35 F to start..
		Realistically, no freeze should start with just loop_pump ( of course ) at <35, xferA at <33, xferB at <31, a new
	relay in heaterA at <29, and finally heaterA  <27 ... 
1020 	OK so pin4 should no go to this R_XFERA_HEAT, and the xferA loop through heaterA should be redone to max out transfer
	between heaterA, and the xferA loop.
		Floor temperature would be a nice-to-have as well... adding that to the sketch as-is would be a little problematic,
	as the Python monitoring app would need updated, as well as the webUI stuffs... The OLED display code would need update
	as well, at least in terms of the custom font so that an additional line could be rendered? the current one is set for
	13 vertical, so setting 12 vertical would squish things a bit but should be 'ok' for now?
	Should add some display for the light level as well. the debounce should be set for 500 millis rather than attempting
	to track loop counts.. a watchdog timer in case the RTC goes wonk would probably be good too... but for a later time..
	also, should move the CSV output away from counterHigh=0 to avoid really long second? should help smooth things a bit..
1055 	
	ok.. code changes for the sketch complete.. I should add light_level output to the shedlogger.py as well as the floor
	thing?
1100 	OK, the monitoring python script is setup.. now to update the arduino with the new code.. 
	attempting compiling... 
1105 	getting error on check_watts_ok line ?!?! huh.. oh.. missing ) .. so this is first version that will enforce wattage?
1110 	compiled OK .. attempting update system.. 
1111 	hmmm... OLED is only showing ..... ERROR for FLOOR ... 
1112 	ah... floortemp was not declared as array of char.. 
1113 	update complete, switching back to monitoring app..
1114 	monitoring app looks OK... logging looks ok ... webUI thing is junked up as expected.. 
1125 	webUI is fixed but the data is misaligned due to previous CSV data not having these added fields. 
		That's fine for now though.. in about 3 hours it should all look OK ...
		appears the font is missing a usable 'L' glyph, but the font will need fixed anyway..
		update running arduino sketch. 
1130 	committing
1145 	system found to be a little low on water, added a gallon of cold tap water.. Noting that flow for loop is not as
	strong as xferA, possibly because of the rise and potentially still air in the system? Could it be due to constriction
	in the loops??
1150 	/

1530 	came back from nerd lunch and did more of the flashing around the base, now only the west side left to do.
	Will take a quick bit and put together a floor temp sensor so that can be tracked.. 

2024/11/23 	Saturday
0930 	I'm thinking I should try adding Isopropyl Alcohol or Glycol, possibly just antifreeze straight-up to the reservoir.
	It would be lighter than the water, so would be easier to pump, and the lower specific heat would mean it would get hotter.
		I added a gallon yesterday to the system but it is already showing low, and pumps aren't even running yet. I just
	put in 10x 12Oz cans of White Claw hard seltzer to help things out a bit, but am concerned about coverage for xferB once
	loop pump gets going... There's bout 250ft - 2.5 gallons - max capacity in the roof panel, but I don't think I am getting
	that much flow, as there isn't so much pressure at the end of the loop at all. Probably would have to be like 1/4 HP to
	see difference... but if .1 HP pump's flow is getting ~222 W, .25 HP => 555 W ? That's likely nearly maxing out the panel
	in its current configuration... 
		At rest, xferA and xferB are mostly below the water level of the system, so only the panel really would pull the level
	of the reservoir down if everything is primed? so things _should_ be OK.
0955	 Hmmm.. why is heaterA and ambient showing ERR ? Oh.. Both were just jumper wires to screw terminals... Really should
	fix all these connections sometime soon -.-;;;

1055 	Added some dish soap to the reservoir to see if that helps anything.. the reservoir is about 20" tall and should
	be about 41 Q actually - 10.25 gallon. measured about 14" actually.. give ~7.2 gallons.. there's about 100 ft of pvc
	that should have water in it (xferA,xferB,to/from roof), so about 8 gallons currently.
		if xferB is uncovered, that is about 7 gallons in the system, and it maxes at about 18" or 10 gallons at the returns.
	With nothing running, the water level should be up to the returns... with loop running, xferB should be covered...
		The addition of soap doesn't drastically change the thermal properties, it is just hoped it will make the water less
	viscous and so easier to pump... Frustratingly, the reservoir is exactly the temperature of the roof panel so far today.
1105 	Spoke too soon perhaps, reservoir is at 56.66 but roof is up to 57.92 . the trigger is a+v < b ... v=2, so would
	need roof >=59 if res is 56.xx ... roof is at 58 ... and I do have the door open and the reservoir uncovered for observation..
1111 	added 1 gallon cold tap water to see if that would bring the reservoir temp down at all.
1115	weird, pump ran for like 3 mins .. flow looked OK, but without more sunshine won't be able to see further performance.
	Possibly might trigger for an hour or so around noon... Will have to check it then. Total system is ~11 gallons - .5 gal/inch
	from top of reservoir. Watts though only counts what is in the reservoir - basically system-1 gallon.. so currently at 
	~8 gallons, or ~100 kJ/C ( 111 W/C in 15 mins or ~60 W/F in 15 mins, 15 W/F per hour).
1125 	/

2024/11/24 	Sunday
1045 	Added 1 gallon tap water.. The floor is wet but it is unclear if it was due to freezing rain last night or leak from
	reservoir. At the least, there was suds that overflowed the front of the reservoir, as there is residual evidence on the
	insulation. I repositioned the bit of aluminum foil covering the reservoir to cover the front edge, but still need to 
	put more foil or something to completely cover the reservoir.
		The loop pump was running and with the suds it wasn't clear if there was significant loss of water.
	Loop pump only started 1027 - early morning was a bit overcast and there was some slush on the panel but not enough that
	it should have prevented it from self-defrosting.
		Next few days look fairly nice - highs at least 38 but cloudy.. so kinda sucks.
	Spot checking every 5 mins for a bit - 

			roof 	res 	sandA 	sandB 	diffs 		avg diffs 	watts 	W/10 	 	
	1025 	 50 	 48 	 50 	 58 	 2  /  / 				---
	1030 	 53 	 48 	 50 	 58 	 5  /  / 	 3 			---
	1035 	 55 	 48 	 50 	 58 	 7  /  / 	 6 			---
	1040 	 59 	 48 	 50 	 58 	11 	/  / 	 9 			---
	1045 	 62 	 48 	 50 	 58 	14  /  / 	12 			---
	1050 	 65 	 49 	 50 	 58 	16 	/  / 	15 			180 	 90
	1055 	 60 	 50 	 50 	 58 	10  /  / 	13 			180 	180
	1100 	 73 	 50 	 50 	 58 	23  /  /    16 			--- 	 90				light level >500, was ~350
	1105 	113 	 50 	 50 	 58 	63  /  / 	43 			--- 	  0
	1110 	122 	 52 	 50 	 58 	70 _2  / 	66  1 		360 	180
	1115 	120 	 53 	 50 	 58 	67  3  / 	68  2 	 	180 	270
	1120 	 82 	 55 	 50 	 58 	27  5  / 	47  4 		360 	270
	1125 	 76 	 56 	 50 	 58 	20 	5  / 	23  5 	 	180 	270
	1130 	 93 	 56 	 50 	 58 	37  6  / 	28  5 		--- 	 90

1110 	Interesting! A 5 minute interval that averaged change to 360 watts? but-1105 res was actually 50.9 , 1110 52.34...
	so really the delta was closer to 1.5 F or 270 watts... still... if could be sustained would be nice, was seemed to be
	limited to 222 watts previously? ( but that was measured over 15 min intervals... ) averaging over last 10 mins more 
	accurate?

1122 	Loop_pump really shouldn't be attempting collection unless roof is good amount higher.. the pump takes about 60W?
	Seems it should be about 10 or 15 F difference before loop start... Just to ensure net gains? currently it is 3F diff..
	But if gains are significant overall maybe isn't huge deal? 
	Like for the period 1030-1130, over the 1 hour res delta +8 F * 15 W/F/hr = 120 W ... which is double the pump itself?
	Full sun over 15 mins was about 5 F - ~300 W ... will need to sort it out I s'pose...

1135 	OK.. so the system is proving out OK.. the shed is very comfy, was ~50 F at 0800 and slowly making it up to 60 F.
	Next few days shouldn't be too bad, so should focus more on clean/org the shed and stop geeking out on the numbers so
	much. Tonight should get to 30 F at midnight, so will be decent test of NOFREEZE situation, especially with res and sand
	at a good charge already... So can leave the cover off but will need to bring it into the shed to be sure it dries OK.
1140 	/

2024/11/25 	Monday
1517 	Overslept and missed work, didn't wake up until 1250! had to run out to the shed cuz I found the RTC was spewing bad
	data. Need to correct this little issue... At least detect and mitigate it.. It seems to occur only between 1100 and 1300
	on sunny days.. When all the original 8 relays are triggered on... Which is when they go low and each is sinking current...
	But also each of the relays takes a bit of current... so long-term solution would be to power the relays from an external
	supply? Short term solution would be to detect the RTC error and attempt dead-reckoning or something? would make it more
	resilient?
		The negative second loops is occurring because the counter is trying to go higher than signed 16bit can do..
	Which is what the M counter was originally introduced for.. So would need to add the M counter back.. OK..
1626 	OK... got a rough timer in, second loops fix in, counterMed goes to 16 now, there's attempt to shut off relays to 
	read the RTC again and ruleDHT_TARGET_TEMP_ON_LOW now takes V into consideration.. Wunderbar.. Now to try to upload 
	to controller...
	Oh wait, should set so heaterA kicks on first as we dip below comfy? Want to stagger them.. so heater B initially at 
	< comfy and then if it gets lower use heaterA at < comfy - 5 ?  OK will just have to try that..

	Fix RTC error out - add dead-reckoning capability

1634 	returning to Pi for monitoring.. And yes, shed at 59 F only heaterB running so ~273 W not ~600 W .. woot !
1640 	Weird. laptop is showing no internet but is connected to the wifi extender OK.. ? can ssh to the RPI but can't go
	online.. 
	RPI can't go online either... hmmmm
1700 	OK, it was just Miguel had turned off the internet so he could fix the power to the router.. OK...
	0900-1400 res 40 to 66 F - 26 F over 5 hours during that time sandA did 40-60, sandB 50-66...
	res is approx ~17 W/F/Hr - 17*26/5 = ~140 W 
	sand calcs out to like ~4 W/F/hr, 4*36/5 = ~29 W so ~170 W average for the entire collection period...
	But the main gains were 0900-1100 res 40 to 58 = 18*17/2 = ~150 W without any real additional going to sand..
	0940-0955 42-47 => 5*17/.25= 340 W over 15 mins.. with ~50 F  diff .. 
	I think maybe I added too much soap to the res water, as that is less efficient than previous.
1720 	Temps tonight through tomorrow look OK, Tuesday night / Wed morning is expected down to 25 F. If I rebuild heaterA
	tomorrow or get xferA running could be interesting to let it just run.. but otherwise seems would just be waste of power.
1730 	should get google doc sorted out to track power min by min? 
1830 	If I took the light level as a direct measurement of the power of the sun hitting the panel, maxes somewhere like
	500 W... If I use the max W transfer per diff (roof-res), I only get a bit of a better temp curve but the W/15 min avg
	comes very close to light level W, today something like 460 W idealized vs 550 W .. max today was ~250 W ...  / idealized
	means ~54% efficiency .. vs light W -> ~45% efficiency.. But the panel is really about 2.5 M^2, so should be more like
	1kW clear/sunny - 2x light level .. so really at ~22% efficiency.. Is very interesting that W/diff goes _down_ the greater
	the diff - the diff itself may not be meaningful or may affect displaced in time, like should consider W/lightlevel ?
1905 	hmmm... 90 min avg light level / 5 appears to be the roof temp in F ?!? is very oddly a close approximation..
	Probably would get more exactly approximating if considered the ambient temperature as well.. like is ambi + ll/x ?
1910 	/ wow OK obsessed much?! lol

2024/11/26 	Tuesday
0727 	Figured I'd come out to the shed to get an early start on stuff before work, but damn is sweaty in the shed...
	55 F with 63 % humidity.. Wow... who would have thought I'd need a dehumidifier in the _winter_ ? 
		Doesn't appear there was any loss yesterday in the system - it's still at about 1 Gallon under returns, with no
	pumps running... The top of the reservoir still has a layer of suds... Which would kinda act as insulation I think? 
	 	Ambient 39 F / 45 % humidity.. OK, so it is just humid day, sure... And a bit windy, but the tarp seems to be staying
	on OK.. So no big worries there.. 
		Do need to finish putting the flashing around the base.. even with it only around 3 of the sides so far, it does
	seem to be helping with floor temperatures... Floor tends to be between shed temp and ambiennt, which makes sense, but
	tracks closer to shed temp than ambient. Setting the rules so that heaterB engages to maintain comfy temp seems to be
	working OK-ish - its doing OK at keeping 55 F without heaterA ... which is comfy enough. I hve the door cracked a few
	inches with the pirate blanket covering most of the opening.
0740 	Today is expected to be high of 44 and rain, 99-100% cloud cover. Excellent means to get baseline for a worse case
	light levels. Ambient sensor may not be sufficiently sensitive to humidity, as it is reporting 45 but weather report says
	82 ... hmmm...
0745 	Weird, I can't seem to click on most things in Windows but the mouse works OK in chrome? CTRL-ALT-DEL brings it back
	to life somehow... very strange.. 
0755 	OK should switch to work laptop and start logging in? 

2024/11/27 	Wednesday
1325 	I had woken up late - about 1030 - due to sleeping in as today I had off from work for the thanksgiving holiday.
	The tarp on the roof had folded itself over the panel, so collection today was not able to start until about 1040. It
	is interesting to see how quickly the roof temperature rose - from about 40 F to >100 F within 10 mins. 
	From 1122 to 1222 res was 51 to 65 ( then there was short period of shade...) - giving about 280 W average over that
	hour. last 3 hours average (39-64) 25 F * 20 Wh/F / 3 = ~62 W average gain from roof to res.
	in that time, sandB 56-62, sandA 46-54 , sand wattage estimated at ~4 Wh/F - (6+8)F*4Wh/F /3 = ~20 W so ~300 W overall.

	A bit of calculating using black body radiation formula suggests that the value of the light sensor truly approximates
	the total wattage incoming from the sun. I had placed insulation and reflective mylar under the PVC in the panel to limit
	how much air within the panel needed to warm up as well as try to involve more of the underside of the PVC, but I also
	did not spread the PVC out in any meaningful way - I probably should at some point implement something that could enforce
	spacing of the PVC. PVC tends to flatten and sag under heat, so the solution couldn't be simply zip-ties or something
	every so often, unless 'every so often' was indeed every few inches? maybe should CAD something out, the dimensions are
	relatively straight-forward, right?

	The tarp on the roof could be secured to the back fence using the tie-downs.. that would avoid it folding over the panel.
	A seconary tarp could be used later to cover the panel at night, if desired...
	Last night ambient got down to 33.. Roof maintained via intermittent loop pump actions of less than an hour total. Average
	power consumption was <1A (by eyeball), with most of the power consumption being actually heaterB trying to maintain comfy
	after midnight. There seems to be interaction between light level and relays - about 15-20 light level per relay activated?
	It may be dependent on the overal power consumption, it is also possible there is some induced current / noise given the
	jump of wiring... hmmm.

	One weird possibility relating to increasing efficiency within the panel would be to implement something black between
	the PVC and the glass... like maybe black paper with aluminum foil on the side facing the PVC? The idea being that the
	black paper would heat up, conducting heat to the aluminum foil, which would be in contact with the PVC as well as radiate
	into the air inside the panel. Any heat radiated within the panel would be bounced around until it was forced into the PVC?
	A test setup within 1 panel should be sufficient to check... it wouldn't have to be paper either, just something black.
	Something that would be relatively rigid would be better though... I do have the broken glass pieces, perhaps I could test
	the concept on smaller scale vs testing on the roof panel itself? hmmm...
		But that all is counter-intuitive to the use of glass.. Actually most designs I see online are indeed black under glass.
	Maybe I shouldn't coil the PVC? running it back and forth might be OK, just need to be aware of kinking it at the turns..
	Attaching it at intervals across the top then makes more sense.. possibly just a bit of duct tape? 
	Would at least spread it all out some...  
1420 	/ 	time to get to work... 
1445 	OK got the tarp tied to the fence... But DAMN my toes are cold... Have just set my feet on the footwarmer, can barely
	feel it at all.. >_<... Oh wow they hurt so bad.. but hurting is better than being numb if its about frostbite so??


		run PVC vertically? 180* bend would need like 5 inches... each is like 27 ish inches across.. so up/down 6 times?
		Would need to be odd - so 5 times ~3 ft = 15 feet.. is 1/5 the of the PVC only ... hmmm..

2024/11/28 	Thursday
1615 	Am waiting on tarps and stuff to properly cover roof panel for tomorrow night, so for tonight I wired up 2x PTC
	as always-on at top of heaterA sand so it should be able to heat res if xferA gets enabled... excess heat should be 
	able to be worked out via heaterA fan ? 
1620 	door is open, shed is 51 F, ambient 35 F ... Am interested to see if heaterA can go to shut off at 120 F with the 
	fan running with the added 2x PTC ... meh.. wiring mishap, heaterA DHT err'd at 113 w/ fan running... arrgh..
	Now is down to 89 F... >_< 
1625 	without fan, HeaterA is ~ +1 F per 10s ... Shed is at 50 F, fan will kick on at 111 F .
1626 	fan kicked on.. fan stopped after 20-30s .. temp drop to 95... so no real change with the added PTCs.. ok...
	The added PTCs should get the rest of heaterA warmer though all the same... so should watch to see if after fan temp
	if it settles higher and higher? 
/	


2024/12/01 	Sunday
1700 	I got the new pump in but now am waiting for the fittings and valves, which should come in within a few days.
	Before covering the panel for the night, I wanted to update the controller software so that NOFREEZE was 30 F with the
	other triggers closer together.. 
		The added always-on in heaterA hasn't appears to really affect the resevoir temp during no freeze... Possibly
	adding heaterB might help, as it can indirectly warm sandB / xferB as well as the shed? 
		SecondLoops goes all the way down to 1.. this appears to be due to it taking more than 1s every 10s ? the timing
	otherwise seems OK.. setting watts_millis to 150 and counterMed to 4 .. 
1715 	compiling... 
1716 	uploading and confirming operation..
1717 	OK, secondLoops is increasing... hmmm.. set +=2, delay(2) for short loop..
1722 	OK.. maybe secondLoops start at 1000 and counterMed is 10 .. ?
1725 	Appears it settled down..
1727 	OK seems stable, switching back to RPI monitoring..
1730 	system appears to be stablizing at secondLoops ~2000 OK .. gonna cover up the panel and head inside. 

2024/12/04 	Wednesday
0830 	Doing some recalculating and research, I seemed to have goofed up kinda horribly. Salt water is more viscous than
	fresh water - OK, sure, but I needed the lower freezing point. Soapy water is more viscous than fresh water. Oops, that
	was entirely the idea behind adding the dish soap, was to lower the viscosity of the fluid.
		Salt water and soapy water on their own are about 1.1 viscosity, vs ~1 for water.
		The real answer to both the viscosity issue and the freezing point is Methanol. The -25 F windshield wiper fluid
	at hardware stores is about 25-35% methanol by weight, for about $5 a gallon. 
		Water weighs 1 oz / fl oz , methanol about .792 oz / fl oz - so assuming 25/75 mix by weight... 38/90 or 1:2.368
	or about 30:70 .. so 7.5 lb/gallon.. 10 gallons = 75 lb as 18.75 lb methanol, say 19 lb to 56 lb or ~9 kg to 25kg 
	using 9:25 kg . viscosity methanonal - .796 vs 1.792 for water.. salt water like 1.1*1.792=1.971
	(9*.796 + 25*1.792)/34 = 1.53 , about 77% the viscosity, so should get ~1.29x the flow?
		A week ago I calculated about 280 W over the course of an hour, from 1122 to 1222. if flow is the limiter, then 
	am hoping for something like 280*1.29=360 W . 
		considering the 10 gallon system, specific heat methanol 2.51 vs 4.18 for water, gives specific heat of ~3.76,
	essentially the 3.8 used before for calculting, so using previous method for calculating wattage - res is approx ~17 W/F/Hr
	360 W would mean ~21 F/hr .. collection is about 4 hours, so +84 F. Starting from approx freezing, that should mean 
	typical reservoir temp up to ~110 F. 
		Sand batteries being about 18 heat cap each - we'll simplify to 20 each, so 40 for the 2 sand batteries...
		sand batteries should start at ~40 F.. so 
		70 F * 100 heat cap split between 140 heat cap = 50 ... ending up at 90 F res/sandA/sandB ... Will believe when I see.
	currently is more like 80 F => +40 hitting ~70 or ~30.. 40*5/7=28 ... hmmm.. seems proportionally should work.

		This is before considering the pump switch, going from ~75 W to ~120 W => 1.6x flow .. 1.6 x 360 W = 576 W, likely
	maximal for this system... if true, then +70F -> +112 F => +80 .. 120 F res/sandA/sandB ... Which would be a bit insane.
		Considering currently system drops to about 40F from 80 F res, then 132 F res -> 90 F res? probably not.
	Loss is probably at least somewhat proportional, as the higher temp would warm the shed more over time, so probably 
	closer to -80 or end up at ~50 F in the morning before starting heater, assuming full sun the day before?
		No way to know for sure until system is upgraded...
0940 	/

2024/12/06
TODO	switch NOFREEZE to do defrost in morning
0040 	updated software so NOFREEZE just defrosts during daylight hours

0715 	Ooops... the defrost should probably start 0800 not 0700, but seems the reservoir only dipped down to 30 F.
0725 	About 15 mins to sunrise - roof at ~25 F, ambient ~25 F, reservoir holding at 30 F... res holding feels odd..
0740 	loop was running OK.. xferA relay had some issue, so xferA pump wasn't actually running, is fixed now.


		Collection didn't really get going until about 0930 yesterday, so NOFREEZE ( well, should rename to DEFROST ) should
	start maybe 0900, which will be about an hour after sunrise each day. Changing the code now, will upload it later.

TODO	drain system / install valves / swap in 10 gallons windshield wiper fluid ( 25% methanol )

0750 	Yesterday after 5pm, I did pump the system mostly dry and there is now 8 gallons of wiper fluid added to what was 
	remaining - which puts the system at about 10 gallons total. The reservoir is still sudding up, so there is still some
	decent amount of soap in the system. There was some wetness below the reservoir, but unclear if it was leaked overnight
	or simply spilled when filling or moving the reservoir.
0810 	reservoir has been slowly warming up since xferA relay was corrected. light level has also been increasing. Roof 
	temperature is still ~5F below reservoir ( 28/34 ). So defrost starting at 0700 wasn't too horrible, but would still
	be better if there was higher reservoir temp trying to defrost the panel. 

0900 	Yesterday maxed out 58% / 324Wh for 1122-1221 , res 54-67 F, light level avg 556, using soapy/salt water.
	If that efficiency is linear with flow, am hoping for 69% efficiency, or ~390Wh for similar light level.
	Reservoir currently about same level as 24h ago. Yesterday res peaked 71F, hoping for 78F.
	Roof temp didn't spike until 1000, so will just have to wait and see?
0920 	/

1645 	firmware with DEFROST=35 from 0900 to 1600 uploaded to controller. Officially am done with covering panel at night
	or worrying about system freezing. 

2024/12/08 	Sunday
0825 	Came out to the shed cuz Miguel was still camped out in the living room. I sorta hung that twin size throw I got 
	off TikTok - it was a mystery thing, I got a pink hued native american looking design. Is nice and soft and the color
	is a nice pastel on the west wall. 
		The puddle of wiper fluid isn't gone - I am not sure if there's more than there was on Friday, just it apparently
	will take its own sweet time to dry, especially with the shed floor getting to about 36 at night. 
		The shed going down to 40 at night is maybe too low. HeaterA temp sensor wasn't working yesterday, and clearly 
	heaterB isn't able to warm the shed on its own so much - which makes sense, it is a bit too high for that. Seems ~20F
	above ambient is most I can hope for overnight with the current setup, which would be running ~5A all night. Maybe put
	it at 45, so that heaterA kicks on at 39? but that is about what it holds over night anyway.. There isn't anything that
	can utilize residual heat from reservoir / sand batteries currently at night, other than the passive thermal loss to the
	shed air, so possibly could add something to help overnight temps. For now, setting comfy temp to 69 for working hours,
	then 6pm goes to 55, then midnight to 45.. Will eventually have enough oomph in the system to accomplish that, just still
	need to build/rebuild/upgrade components... 
0848 	Wiring for heaterA and heaterB is really being iffy.. that controller rebuild and move off the desk is _so_ needed,
	but I haven't had the ... whatever it is.. to even clean the shed to put up the shelves, so that I would have room to
	work and have things organized and easy to find. 
0852	Shed temp is 48. Mercifully, roof is already 38F, ambient 28. So maybe will warm up in here soon? can only hope,
	right? 	Maybe the max for the heat elements can be pushed a bit.. Except they don't get that hot with the fans anyway..
0900 	Keep meaning to fix up the display font the 128x64 uses but never get to it, is hard to read with how the numbers
	are all jammed into each other currently. Just another thing for the list? meh.. Like I need another damn TODO.
		I am just being grumpy, I didn't sleep well last night, I overslept into the afternoon yesterday and so just feel
	all sorts of off is all. Just need to be kind to myself, deep breaths, take on a little bit of a thing at a time. Is
	all that is needed, really. It is only currently 0906, I could wander off, catch a few Zs, come back this afternoon and
	swap in the black backing for the panel or clean inside the shed a bit or whatever. Is not necessary for me to sit here
	in a bad mood, where it is cold and such.. Reservoir 42 roof 37, is still a bit to go before things will kick off. 
		Have made changes to the code for comfytemp and the rules, so will compile and upload that now before I wander off.
0915 	code updooted but now heaterB element relay isn't responding.. 
0920 	Oh.. heaterB relays came out the pin on the arduino.. arrgh.. So I am cold and heaterB is 73!??! wtf
		Well, at least everything appears to be working now.. need to wait for things to warm up enough for heaterA and 
		heaterB fans to kick on to be sure.. 
0924 	loop just kicked on, heaterB fan kicked on.. OK will start working on that font then. Originally coerced to 12 to
	make it work, but the original was 13*9=117, is 10 now so would need to be 11 high, 10 per character.. and need to add L
0945 	OK bored of that already. is good time to go inside and maybe catch a nap or something.. head hurts, so prob should
	try to hydrate and eat maybe.. 
/

2024/12/11 	Wednesday
0740 	Last few days I had wiper fluid on the floor - apparently from the reservoir. Not a lot exactly, and not continuously.
	I had managed to get the floor mostly dry yesterday, and this morning everything is dry. I added some PVC to the returns
	so that their flow was directed more downward, into the reservoir, on the thinking that the fluid being lost was due to
	splashing out the top of the reservoir. Yesterday, I observed soap bubbles occupying the top portion of the reservoir,
	so possibly another avenue of loss is soap bubbles bubbling over the top. 
		I have aluminum foil across the top as well, and placed the foamboard insulation directly on top of the reservoir,
	hopefully these things all add up to the system remaining dry, otherwise there will need to be further investigation.
	Possibly may need to aim a webcam at the reservoir and record video to correlate exactly with temperature / relay data.

		Yesterday at about 0930, it was observed that the roof panel was reading ~50 F but still appeared covered with snow,
	except for thin regions where the black PVC hose was coiled. Solar collection did not seem to be actually impaired, 
	and about an hour or so later, the snow had been melted off the panel. The observed snow coverage pattern at ~50 F 
	would appear to further validate the need to black out the backing of the panel.
		Theoretically, the ~225 ft of PVC in the roof panel is only about 50% of the surface area of the exposed glass, 
	meaning that blacking out the background could mean doubling the output of the system, currently maxing at about 300 W.
		Actually, should check exactly what sort of wattage / performance I have been seeing.. Google sheets apparently 
	doesn't like copy/pasting ~30K rows between sheets.. go figure.. so guess will have to do calcs in the new sheet..
0820 	Switching over to wiper fluid doesn't appear to have really had impact on panel performance, still about ~45% light
	level.. Coming to about 300 W at maximum. 
		System was switched over for Friday, December 6th.

		res is 55 kJ/F, sandA/B are 10 kJ/F ... And consider start when roof >100 F ? end about 1600
		5 hours * 3.6ks/hour = 18 ks .. kJ/ks = W 
	Date 	time 					res 					sandA 				sandB 					total 	average
			start 	stop 	hours 	start 	stop 	kJ 		start 	stop 	kJ 	start 	stop 	kJ 		kJ 		W
	12/06 	10:15 	15:15	5		47 		66		1045 	39 		64  	250 	51 	68 		170 	1465 	 81
	12/07 	10:23 	15:25 	5 		46 	 	64 		990   	38 		61 		230 	50 	66 		160 	1380 	 77
	12/08 	09:56 	14:56 	5 		48 	 	70 		1210  	43 		67 		240 	54 	71 		170 	1620	 90
	12/09 	09:47 	14:47 	5 		50 	 	62 		660   	50 		62 	 	120 	55 	66 		110 	 890	 49
	12/10 	10:00 	15:00 	5 		44 		66 		1210  	43 		65 		220 	51 	67 		160 	1590 	 88 

0855 	doesn't seem too horribad... except the main pump is like 75 W so... need to push the efficiency a bit here...


2024/12/12 	Thursday
0535 	
	consider res as 9 gallons - 9*8lb=72lb/2.2kg=32.7kg*3.7kJ/kgC=120.99kJ/C*5C/9F=67 kJ/F 
	sandA/B are about 30 kg - 30*.8=24 kJ/C * 5C/9F = ~13 kJ/F
	shed radiance - using 6*10^-7 W/K^4 as the constant... shed 40 - ambient 25=408,30=276,35=140
	consider particular timeframe each day - 6 hours, 9AM to 3PM , so noon +/- 3 hours ...
	shed air = 0.075 lb/ft^3 * 8*10*6=36lb or ~16.3 kg air is ~1 kJ/kg*C so shed is ~9 kJ/F

Date 	LL 		amb 	shed 			rad			ruf res 		 	sandA 		 	sandB 			therm 	Pow 	Pow	
		avg 	a 	b 	a 	b 	Δ 	kJ 	a 	b 	Wav av 	a 	b 	Δ 	kJ 	a 	b 	Δ 	kJ 	a 	b 	Δ 	kJ 	kJ Wav 	Wav 	%
12/06 	475 	30 		46 				450 		91 	35 				38 				50 				2842	343
					41 		60 	14 	126 	577 513			67 	32 	2144 	64 	26 	338 	68 	18 	234 	131 		 53 
12/09 	351 	29		50				597			80 	52 				49				56				1000	593
					37 		52 	 2 	 18 	440 518 		62 	10 	670 	63 	14 	182 	66 	10 	130 	 46 		105

12/10 	448 										95 															519

12/11 	478 		38 		61 		144		693 	86 		67 				52 				62 			2254	493
				27 		45 		16 	 	501 	597 	39 		28 	1876 42 	10 	130 54 		 8 	104  	104 	 	 70

0715 	hmmm... got 105% power/thermal for 9A-3P 12/09 ... maybe should double check radiant loss using overnight calculations...
	Its still dark outside, so maybe check over last 3 hours? 
	so.. shed 	~9 kJ/F / 60s = 150 , sand 13/60 = 217, res 67k/60s=1117
	basically should be watts+res loss + sand loss + shed loss = radiant ? That doesn't account for watts the shed uses anyway.
	but during this time period that should be very minimal.. lights are like 6 watts, rpi, arduino... ~20-30 W? 
0740	If I use 5x10^-7 W/K^4 for radiant loss, it gives me 45 W average power over radiant loss... wow OK.. that changes
	things a little..

	So the efficiency column should be thermal gain minus power, in average watts, where in the sun that may be positive,
	and at night or low sun will be negative...

9A-3P
Date 	LL 		amb 	shed 			rad			ruf res 		 	sandA 		 	sandB 			therm 	Pow 	therm-P	
		avg 	a 	b 	a 	b 	Δ 	kJ 	a 	b 	Wav av 	a 	b 	Δ 	kJ 	a 	b 	Δ 	kJ 	a 	b 	Δ 	kJ 	kJ Wav 	Wav 	
12/06 	475 	30 		46 				375 		91 	35 				38 				50 				2842	343
					41 		60 	14 	126 	481 428			67 	32 	2144 	64 	26 	338 	68 	18 	234 	131 		 216 
12/09 	351 	29		50				498			80 	52 				49				56				1000	593
					37 		52 	 2 	 18 	366 432 		62 	10 	670 	63 	14 	182 	66 	10 	130 	 46 		-115

12/10 	448 	25 		42			153	389			95 45				44		21		51		16		2041	519
					37 		59 	17 			549 469			66 	21 	1407 	65 		273 	67 		208 	 95 		  45

12/11 	478 		38 		61 		144		579 	86 		67 				52 				62 			2254	493
				27 		45 		16 	 	418 	499 	39 		28 	1876 42 	10 	130 54 		 8 	104  	104 	 	 110

0800 	That seems to make some sense.. brighter=more positive. warmer day=more positive. shed start at warmer=more positive
	res start colder?! more positive.. because it can't pull so much off the roof if res is warmer... 
	the main thing though is shed kJ + avg radiance vs pow ?
	radiance - pow = sun ?
		shed W 	radiance 	total 	pow 	p/t% (lower is better) 	LL 		ruf 	t-p=sun 	LL-sun adjust? 	
12/06 	6 		428 		434 	343 	 79 					475 	91 		  91 		384
12/09 	1 		432 		433 	593 	136 					351 	80 		-160 		511 <-might be off due to panic?
12/10 	7 		469 		476 	519 	111 					448 	95 		- 43 		491
12/11 	7 		499 		506 	493 	 97 					478		86 		  13 		465

0815 	but factoring in res sand and all would be more correct.. so therm-P is what it should be.. 12/06 was an awesome day..?
	Yesterday only having therm-P of 110 aW isn't bad.. 12/06 might have been higher therm-P because I was not in the shed
	for about 3 hours, plus now the comfy temp is 69 not 60.. so is more power usage.
		Clearly the optimizing thing here is increasing the roof average temp somehow, res seems limited to ~66 here..
	these are averages over the 6 hour period, like 12/08 1300 had res 79 max v roof 115? yesterday res maxed 67 v roof 78
	at 1300... is just very different days... but anything that could get the roof hotter should be good, and currently it
	is reflecting not absorbing :-\ ... the acrylic should be blocking IR though, so swapping the backing to black _might_
	be moot.. would have to try it and see? 
0830 	/

2024/12/13 	Friday
0740 	Thinking about how to calculate the thermal transfer in the loop to better understand/optimize it...

9A-3P
Date 	LL 		amb 	shed 			rad			ruf res 		 	sandA 		 	sandB 			therm 	Pow 	therm-P	
		avg 	a 	b 	a 	b 	Δ 	kJ 	a 	b 	Wav av 	a 	b 	Δ 	kJ 	a 	b 	Δ 	kJ 	a 	b 	Δ 	kJ 	kJ Wav 	Wav 	
12/06 	475 	30 		46 				375 		91 	35 				38 				50 				2842	343
					41 		60 	14 	126 	481 428			67 	32 	2144 	64 	26 	338 	68 	18 	234 	131 		 216 
12/09 	351 	29		50				498			80 	52 				49				56				1000	593
					37 		52 	 2 	 18 	366 432 		62 	10 	670 	63 	14 	182 	66 	10 	130 	 46 		-115

12/10 	448 	25 		42			153	389			95 45				44		21		51		16		2041	519
					37 		59 	17 			549 469			66 	21 	1407 	65 		273 	67 		208 	 95 		  45

12/11 	478 		38 		61 		144		579 	86 		67 				52 				62 			2254	493
				27 		45 		16 	 	418 	499 	39 		28 	1876 42 	10 	130 54 		 8 	104  	104 	 	 110

12/12 	450 	32 		49 			162		501		87 	40 				42 				52 				2681	469
					48 		67 	18		405		453			71 	31	2077	66 	14	182		72 	20 	260  	124 		  60

0800 	probably just do like meter by meter? if 100 ft = 1 gallon = 7.5 lbs, then 0.075 lb/ft 0.034 kg/ft 0.11 kg/m
	the panel uses about 64m of pvc.. The reservoir is assumed to contain about 8 gallons while under operation - will say 
	25 kg. so each time step, simulate the water going 1m along...? top surface area of 1m of 0.5" diameter is 
	1 * 0.5*0.0254*pi/2 - ~.2 m^2 and water thickness about .25inch - 0.00635 .. thermal conductivity of methanol is .2 ,
	water .6 so 25% => .2/4 1.8/4 = .5 Wm/K .. so .5* .2 / 0.00635 = 15.75 W/C 
	specific heat 3.7 kJ/kgC .. yields 15.75 / 3.7 /0.11 = 38.69 per second ?
	15.75 W/C / 3.7 kJ/kgC / 0.11 kg = W/C * kgC/kJ / kg = 38.69/1000 per sec .. 0.03869 /s .. use 0.036 so its more like
	64 meters = 1s.. for a 40 C roof ( 104 F), from freezing, 3 hours -> ~20C res or 68 F >_< that is roughly what I have
	seen.. 4 hours - ~25C res, 77 F ... 2 hours? 15C 57 F... ok ok .. and that's using 104 F roof temp, which isn't always
	the case.. the 3 hour value seems best for trying to figure this out?
0840
	Well, if the flow is increased, say by 1.6 (120/75), then 180 minutes would be 288 time units here.. 27C = 80 F
	then if the roof temp was increased from 40C / 104 F , to say 50 C / 122 F .. res temp possibly 34 C / 93 F ! 
0845 	Wait... this isn't 1 minute per row.. is basically in seconds .. this is being optimal..? 25*3.7=92.5 * 40=
	3,700 kJ ! or about 1kW in an hour.. .16*92= ~15 W .. if each step was 1s.. we calc'd 15W tranfer/C .. yesterday
	averaged 96W .. 
0900 	OK so is really mixed scale.. screw it. can slap a factor on it and be done with it?
	consider values from yesterday - roof average 87F=31 C, res started at 40 F = 4 C ended at 71 F or 22 ... 50% factor
	just kinda works.. cool .. so if I put conditions in for say the 10th - start res 5 C roof 35... 68 F res ...
	actual was 66 res.. so is actually very close.. today res starting at 50F / 10 C .. is snowing or something though,
	so likely roof temp maybe average 80? 27 ... so expecting res end at 69 F. noice ... Which would be about where it
	ended up yesterday, and the ending point pretty consistently in the 60s .. so yeah guess is just come down to improve
	efficiency. 


2024/12/14 	Saturday
1545 	

9A-3P
Date 	LL 		amb 	shed 			rad			ruf res 		 	sandA 		 	sandB 			therm 	Pow 	therm-P	
		avg 	a 	b 	a 	b 	Δ 	kJ 	a 	b 	Wav av 	a 	b 	Δ 	kJ 	a 	b 	Δ 	kJ 	a 	b 	Δ 	kJ 	kJ Wav 	Wav 	
12/13  ~400 	32 		49 		18		405 	453		40 		31		43 	 	23		54 		18		2772	~500
					48 		67 		162 	501 			71 	 	2077 	66 		299 	72 		234 	128 		~80 W
12/14 	315 	37 		54 		10		418 		54 	51 		9		63 	 	8		57 	 	4		849		566
					45 		64 		90 		492  455 		60 	 	603 	71 		104 	61 		52 		39 			-35 W

1610 	Yesterday, it was snowing in the morning but brightened later. Getting net positive yesterday is kinda nice.
		Today though, it has been warm but gusty winds and cloudy. The roof temp average being less than where res ended up
		is a first, during the 6 hour period the loop_pump was only active about 36% of the time. 

		The reservoir also started 11F hotter - if it hadn't, that would have easily been another 35 W gain, making the day even?
	There's about 500W of electric heat - enough to maintain ~45 F against an ambient ~25 F. Even the coldest day should be
	about 30 F - so during work hours 50 F should be a given... 
		The surface area of the sand batteries is about .4m^2, reservoir is about .2m^2 ...
		So - under power we can get to 51 F in the shed. if res and sand batteries are at 70F, that is additional 60 W,
	which pushes to 53 F. 
	pow 	shed 	radiate(W)
	500 	51 		60 
	560 	~53 	52
	552 	53 		52
	res=67*17=1,139 	sand=2x17*13=2x221 	~1600kJ ... maybe sustain for about 8.4 hours .. 
	but res/sand higher- say 100 F...
	pow 	shed 	radiate(W)
	500 	51 		162
	662 	57 		145	
	645 	56 		148 (act 630...)

	d*(93)=4,092 kJ , sustain ~27.6 hours ... ! 

	interestink.. goal temp is 69.. 69 v 30 ambient = ~1kW .. I would need res/sand at 180 F to make that up without sunlight.
	also would take over 9300 kJ , ~430 W of sun over 6 hours .. and only maintain ~2.5 hours ..

	Is a lot of sun to hope for is all. Would make more sense if could store power overnight to use during day?
	what about flip - only radiant heat considered? if res/sand starts at 80 F
	pow 	shed 	radiate
	0 		30 		147
	147 	36 		132
	132 	35 		135 	
	ambient 25?
	pow 	shed 	radiate
	0 		25 		160
	155 	32 		142
	133 	31 		145 	<- well, fuck a duck, I maybe actually did it... 
	sand/res of 91 F maybe would keep shed at 33 .. 5,394 kJ / 178 W = ~8.4 hours ... 

	So there's a sort of goal that maybe I can actually achieve - not having the shed freeze overnight using like no power.
	It would only take having res/sand above 90 F at midnight... lol

1700 	/


2024/12/16 	Monday
0745 	Swapped in the black posterboard and recoiled the PVC hose in the panel. The first 2 panels showed promise, the 
	acrylic got warm to the touch and started to fog a bit after sealing. The first 2 panels were done by 1230, the 3rd
	was completed by 1700 due to needing to acquire more posterboard.
		Yesterday was warm - 45F/28F, but periods of cloud and windy.

9A-3P
Date 	LL 		amb 	shed 			rad			ruf res 		 	sandA 		 	sandB 			therm 	Pow 	therm-P	
		avg 	a 	b 	a 	b 	Δ 	kJ 	a 	b 	Wav av 	a 	b 	Δ 	kJ 	a 	b 	Δ 	kJ 	a 	b 	Δ 	kJ 	kJ Wav 	Wav 	
12/15 	424 	39 		58 		9		475 	537	86 	52 		19		68 		12		59 		14		1692	513		102 
					44 		67 		 81 	599 571			71 		1273 	80 		156 	73 		182 	78 			136

		Interesting.. if consider average radiant loss minute-by-minute, is a bit higher - by ~6% / 34 W in the case of 
	yesterday. Minute by minute therm calculated 76 W, so isn't much difference between really.. 571+76-513=647-513=134 W
	0923-1322 therm average ~145 W, on LL average 455 / 570 W radiant / 509 W pow - r+t-p = 206 W for that 4 hour period..
	1130-1230 	rtp - 353 W / LL 528 	
0835 	interestink.. on the 12th, 1130-1230 258 W / LL 528 ... interestink.. ~100 W difference over on same LL, but this
	was partially during the time I had the panel open to black the backing.. 

9A-3P
DATE 	LL 		shed 	roof 	amb 	rad 	therm 	pow 	r+t-p
12/15 	424 	 65		 90 	 43 	571 	 76 	513 	134

2024/12/17 	Tuesday
0920 	
9A-3P
DATE 	LL 		shed 	roof 	amb 	rad 	therm 	pow 	r+t-p 	+60 W
12/15 	424 	 65		 90 	 43 	571 	 76 	513 	134 	194 	
12/16 	350 	 59 	 55 	 39 	501 	 46 	606 	-59 	  1

0935 	power predictor / analysis?
 		roof temp - ambient  - (R-A)X+C = rtp
 		47X+C=134 	14X+C=-59 	33X=193 	5.8 	139
 		or if we subtract 60 W for the other things in the shed? 	33X=73 	2.2 	88.2
 		but depends also on the ambient? 	
 		A(R-A)X+C = rtp
 		43(47)x+c=134 	39(14)x+c=-59 	
 		2021x+C=134 	 546x+C=-59 		2021x+C=194 	546X+C=1
 		1475x = 193 	0.13 	-130 		1475X = 193 	0.13 	-68.73 -69.98

 		function of light level?
 		aL+C = rtp
 		424a +c = 134 	350a + c = -59 		424a + c = 194 	350a + c = 1
 		74a = 193 		2.6 	968.4 969 	74a = 193 	2.6 	908.4 	909 	
0955 	interestink.. 	what if we consider average power like 30 W + pumps, w loop pump = 70 W and xfer pumps = 20 W?
		12/15 			12/16
		47X+C=134+66+30 	14X+C=-59+45+30
		47X+C=230 		14X+C=16
		33X=214 	6.5 	-75.5 	-75

		2021x+C=230 	546X+C=16
		1475X+C=214  	.15 	-103.15 	-95.9

		424x+C=230 		350x+C=16
		74X=214 	2.9 	-1029.6 	-1029		

1015 	Suggests to see 500 W at this efficiency... 
		light level needed.. 	2.9L-1029=500 	2.9L=1529 	L=527 
		R-A -> 	6.5d - 75 = 500 	6.5d=575 	d=88 	ambient of 40 -> roof average 128 
		A(R-A) -> .15T-100 = 500 	.15T=600 	T=4000 	AR-A^2 = 4000 	40R-1600=4000 	40R=2400 	R=60 	<- nope... redo
1025 	crap, gotta go work.. dang it.. 	well, at least have something now? LL 527 / roof 128 for 500 W? 


2024/12/18 	Wednesday
1615 	Overslept, missed work, stayed in bed.. meh.. Yesterday was quite interesting for the roof temp staying hot. 
	Today, the reservoir got to nearly 80 F, intermittent loop pump up to 20 minutes ago, the res currently at ~70F

9A-3P
DATE 	LL 		shed 	roof 	amb 	rad 	therm 	pow 	r+t-p 	+60 W
12/15 	424 	 65		 90 	 43 	571 	 76 	513 	134 	194 	
12/16 	350 	 59 	 55 	 39 	501 	 46 	606 	-59 	  1
12/18 	468 	 64 	 86 	 44 	526 	105 	494 	137 	197
		interesting, roof temp was lower today... mayne need to track more data points?

9A-3P
DATE 	LL 		shed 	sandA 	sandB 	res 	roof 	amb 	rad 	therm 	pow 	r+t-p 	+60 W
12/15 	424 	 65		 73 	 65		 67		 90 	 43 	571 	 76 	513 	134 	194 	
12/16 	350 	 59 	 65		 58		 54		 55 	 39 	501 	 46 	606 	-59 	  1
12/18 	468 	 64 	 71		 61		 69		 86 	 44 	526 	105 	494 	137 	197

		Each day, the reservoir started at ~50 F, ambient ~38 F, roof ~45 F , each day ending at ambient ~45 F...
		Perhaps peak roof temp should be considered? 	18th-114 	16th-63 	15th-123 
		The timeframe being considered may be too broad.. what if we considered only when the loop pump was active?

9A-3P 	only when loop_pump active
DATE 	LL 		shed 	roof 	amb 	rad 	therm 	pow 	r+t-p 	+60 W 	loop active
12/15 	435 	 65 	 89 	 43 	569 	 97 	512 	 74 	134 	88%
12/16 	359 	 59 	 56 	 40 	499 	 48 	616 	 70 	130 	65%
12/18 	482 	 65 	 90 	 44 	531 	121 	482 	 82 	142 	88%

		generally showing the pump active when roof is hotter and it is brighter outside.. rtp is much more closely grouped.
		it seems roof alone is more important - roof-ambient is same for 12/15 and 12/18, but 12/18 had a bit more light and
		warmer roof for it.. so maybe it is aR+b=rtp ... and light level? aR+LL=rtp ?
		12/15 		12/16 		12/18
		a89+435=74 	a56+359=70 	a90+531=82
		89a=-361 	56a=-289 	90a=-449
		a=-4.05 	a=-5.16 	a=-4.98 	intriguingly close.. inspection suggests 1F roof = 8W when pump active..
		82/8=10.25, res averaged 70.. 20 F average difference.. hmm.. if consider just (roof-80)*8 ? but doesn't generalize
1720 	Maybe just plot the values and try to fit a curve.. 
1810 	finally figured out how to fit to a curve using google sheets. light level < 50 looks very chaotic..
1820 	roof temp is approximately 38 + LL/100 + 2LL^2/10000 ? 38+5+46 = 89 .. Yeah approximately.. sure..
1830 	current equation predicts a light level of 700 would be needed to reach ~140 F roof.. 
1915 	OK now I got the google sheet setup so as I dump data it can average out ambient and radiant loss as well.
	Will want to be sure there's correct amounts of data for each day going forward, or base this on a full dump from
	the system so no data is missed? So far missing data doesn't seem too bad.. 


2024/12/19 	Thursday
0655 	Quick update to the google sheets for last night data. 
0720 	Black body radiation constant is 5.67E-8 W/m^2K^4 - 1kW/meter would mean cK^4=1kW, 1kW/c=K^4 K=364, F=196
	so something absorbing 100% of the sun over 1m^2 should be about 200 F. 
		The roof is about 15* but should be 55* ... 
		40/50 	neutral 55/35 - winter
		----
		/	40/
		` - _/ 	
		the roof only neutralizes about 15* of the needed 55* tilt.. so 
		/  40/ 	sin 40 - 0.64 	cos 40 - 0.77 	.. sorta 6/8/10 ... 
		----- 	
		   /|
		10/(40)
		 /  |8
		+---+
		6
		so winter, roof is getting ~0.77 at best.. is about 0.9x2m = 1.8m^2 => ~1.4m^2 	x ~770W = 1078 W for the _panel_
		so let's say 1100 W at full summer sun.. using black body calculation, best seen last few days was ~125 F, or ~625 W/m^2
		or 875 W for the whole panel.. if we consider a max roof temp from yesterday - 1209 114.26 , res was 78.44, was 1 min
		value of 441 W at 1210.. OK... so that's either 441/875 so ~50% efficiency.. or its 400/(400+800)=33% efficency 
		and the panel was seeing 1200, or it should be averaged some.. about 200 W ... saying it sucked down 200 W and so
		the roof temp was stuck at 114 because only ~800 W left - ~200/(200+875) ... ~18% efficiency? 
		insinuates limit to doing this thermally - at 100% efficiency, 
		res temp 	watts max efficiency full sun (1100 W)
		212 		  0
		196 		100
		179 		200
		160 		300
		140 		400
		118 		500
		 92 		600
		 62 		700
		 26 		800

		Which would also then imply a period of time to achieve these temps.. ie - say 1100 W sun coming down..
		res 	watts 	time to next 5
		 26 	 800 	6 mins
		 30 	 790 	7 mins 	~13
		 35 	 775 	7 		 20
		 40 	 760 	7 		 27
		 45 	 750 	8 		 35
		 50 	 735 	8 		 43
		 55 	 720 	8 		 51
		 60 	 705 	8 		 59
		 65 	 690 	8 		 67
		 70 	 675 	8 		 75
		 75 	 660 	9 		 86
		 80 	 645 	9 		 95
		 85 	 625 	9 		104
		 90 	 605 	9 		113
		 95 	 590 	10 		123
		 100 	 570 	10 		133 		for 1 m^2 panel... /1.4 for current panel, so ~90 mins if it was getting full
		sun... but we don't have 100% efficiency or full sun.. ? 
		got about 585 W/m2 for 114 F => 819 W across the 114 F panel, say ~250 W therm.. totals ~1069 on ~555 LL ...
		so LL is _almost_ giving W/m^2 for the panel ?!?! is giving half... dafuq


2024/12/20 	Friday
0045 	

9A-3P
DATE 	LL 		shed 	sandA 	sandB 	res 	roof 	amb 	rad 	therm 	pow 	r+t-p 	+60 W
12/15 	424 	 65		 73 	 65		 67		 90 	 43 	571 	 76 	513 	134 	194 	
12/16 	350 	 59 	 65		 58		 54		 55 	 39 	501 	 46 	606 	-59 	  1
12/18 	468 	 64 	 71		 61		 69		 86 	 44 	526 	105 	494 	137 	197
12/19 	459 	 65 	 71 	 60 	 70 	 89 	 44 	552 	117 	410 	260 	320

9A-3P 	only when loop_pump active
DATE 	LL 		shed 	roof 	amb 	rad 	therm 	pow 	r+t-p 	+60 W 	loop active
12/15 	435 	 65 	 89 	 43 	569 	 97 	512 	154 	214 	88%
12/16 	359 	 59 	 56 	 40 	499 	 48 	616 	-69 	 -9 	65%
12/18 	482 	 65 	 90 	 44 	531 	121 	482 	170 	142 	88%
12/19 	465 	 66 	 93 	 44 	558 	126 	397 	287 	347 	92%

0055 	oh wow. Is not exactly clear what the difference between 18th and 19th should have been, maybe just a bit less
	cloud cover today... but RTP 260? 92% loop active ??!?	pow 410 seems due to high ambient temperature, heaterA stopped
	before noon and didn't pick up again until after 4pm.. 

0645 	maybe should double check radiant loss?
		This morning have data 	for when it was dark and no relays running.. Due to resolution of the DHTs, need to synthesize
	in-between temperatures... based on the 16kg of air , 
0745 	suggests a radiant loss of 1.6E-11 W/K^4 ... That's way kinda low.. implies way less than 1W even at 69/40 ?
	Oh, right.. 16,000g ... 1.618*10^-8
	Air is 0.075 lb/ft^3, shed is 8x10x6=480 about 500 ft^3 so ~37.5 lbs or 17kg .. even if consider stuff in the shed so
	20kg air equiv? 2.0E-8 	.. hmmm..  seems off by at least a magnitude.. prob cuz is only considering the _air_ inside
	the shed... seems roughly its kg*10^-9 ... so if is assumed 100kg material in the shed is going to spit out 10^-7
	doesn't seem quite right and not sure how much stuff is in the shed currently.. iirc 5E-7 was a working number before?
	

2024/12/22 	Sunday
1445 	Yesterday and today it seems roof temperatures didn't get so high as they should have, suggesting the panel covered
	with frost and defrost not being enough at its current threshold ... need to grab the data and crunch stuff though..

1530 	Yesterday LL9A3P 432 max 553 with a roof average of 76? Friday was 455/573/91 .. yeah, definitely frost issue.
	Currently defrost has 9 am / 35 ... On Friday, res/roof hit parity at ~45F at 9:30, running manually.. 
	Checking last few days, looks like yesterday shed started warming in sun at 0830 LL 224 and today 0815	LL 213
	Sunrise at latest is 0752 	.. suggesting value should be 8 am / 45 F? and defrost period ends 3pm ... That should help
	jumpstart production... 

	Now just have to go out later and updoot the system.. hehe
1550 	/

2024/12/23 	Monday
0630 	updated system.. fixed that monday thing, Mon is no longer 'err'
0640 	/	Forecast today - 49/35, AM showers. cloud cover - 95% 9am , 80% at noon,  70% at 3 pm... 
	100% cloud cover is LL ~200 and 0% cloud cover is LL ~600, giving a predictive scale something like this for noon -
	LL 	200 	250		300		350 	400		450 	500 	550 	600
	% 	100 	 88 	 75 	 63 	 50 	 38 	 25 	 13 	  0

	is not exact but ehhh.. does it have to be? lol... 
0650 	shed 51 	ambi 36 	roof 	36 	 	LL 55 - due to noise maybe.. still need to sort that out I s'pose.. 
	like factor in the relays and stuff?  would need to analyze LL vs wattage to model the effect appropriately.. 
	Currently, it is dark outside, ~516 W LL 54 	.... not sure if it is # of relays or watts though...
	seems to be this during the night - 
	relays 		Watts 		LL
	0 			 77 		  1
	1 			164 		  5
	2 			275 	 	 30
	3 			285/570 	 52
	4 						 72
	5 						 80

	oh yeah, is # relays not watts.. its a voltage sink issue.. is non-linear it seems..
	OK from 6pm to 6am, LL < 100 , looks like it is tracking based on watts... 
0750 	oh yeah that ain't linear... not seeing pattern at all, would have to figure out what's going on with the circuit..
	it is clear enough there is some pattern, like maybe could subtract between 4 and 20 times num relays...
0755 	just after sunrise, LL 122 / 3 relays / 500 W ... maybe 52 of LL is relays... I dunno, would have to fit it somehow.
	Should be heading inside for tums and relax before work...
	95% cloud coverage / 38 F forecast for 8am, 75% / 45 F noon... system is about to enter defrost, roof isn't actually frosty
	Possibly detect frost using humidity? maybe roof humidity or ambient? 
	Friday roof humidity ~55 at 9am.. no.. roof humidity always high... hmmm
0805 	System time is 0800, defrost just kicked on... that RTC is really losing time... hmm..
	/


2025/01/26
0755 
	- 	Long time, no update, I know.. System has just been working OK, although the defrost function is a bit questionable.
	I might disable it, but also it just may not matter. 
	-	The footwarmer relay stopped relaying, and then the 12V DC positive for it kept overheating, so I disconnected a
	few of the PTCs in the footwarmer and hard-wired it to the 12V power supply with thicker wire.. It isn't as good, but
	it is serviceable... 
	-	"Serviceable" is about the only way I can really describe the system now... it just isn't very polished at all.
	A proper redo would involve - 
		-	improved roof panel - use thin copper piping, higher pressures, proper angle, better defrosting. Possibly also
		implement capacity to vent air from the panel directly as well as using the fluid. Maybe some solar electric 
		capacity as well - using two-sided solar panel with the fluid heater behind it maybe?? or convert heat to power?
		- 	improved reservoir - controllable capacity / multiple tanks? surrounded in wood or something in order to 
		decouple it from the shed but also allow it to act as radiator?
		- 	improved sand batteries - switching to copper piping inside the sand batteries would allow better transfer.
		- 	improved ventilation / air recirculation - currently, no fans or other elements to push heated air back down
		- 	better sealing / insulation inside. 
		-	insulated / heated floor

2025/02/15
0810
	-	grabbing what logs still exist. Mid January was about the worst time anyway...
	-	In the last few weeks, I have had some 12V DC relays fail - they just aren't passing current like they should.
	This include heaterA fan, heaterB fan, footwarm, LOOP_PUMP... 
	-	heaterA and heaterB temp sensors have been moved away from their original positions so that they read cooler, to
	avoid shutting off too much due to >120 F. Unsafe temperatures were never observed on the units, after moving the temp
	sensor, they seem to remain stabilized well under 200 F at least. They should have enough thermal mass to be safe if
	constantly on... 
	-	I've had to disable xferB in the last week due to the reservoir level being too low to sustain it. So effectively
	only xferA still working via 12V DC relay. 
	-	LOOP_PUMP I've been energizing manually as needed during the day.
	-	footwarm is wired to be constant ON, but I also disconnected some of the PTC elements and hard-wired it to the 
	12V DC supply with heavier gauge wire to avoid the wire melting.
0815
	-	Overall, even as the system has degraded over the season, I am pleased with it. There's various opportunities for
	improvement that have been identified, but running the LOOP_PUMP manually has shown how much impact the system has.
	-	Since the programming hasn't changed, it would be needed to check the watts used at some particular time to
	really identify when LOOP_PUMP is active.  


		fix font/display for 128x64 
		implement xferA heater - copper tubing? teehee - hmm.. kinda pricey actually.. maybe use flashing? hmmm...
		make floor space for shelf A
		make floor space for shelf B
		install valves
		install 120 W 110V AC pump
		swap to black backing on panel

		CAD spacing out PVC in panel.
		clean/org inside shed ! 
		Finish flash around base
		Insulate PVC to/from panel


		Fix RTC error out - move relay power to external supply?
		more powerful loop pump? - >5.5GPM/330GPH/ 0.1 HP
		rework heaterA to add xferA_heat
		check why LOOP_PUMP flow is weak
		Add temp sensor for FLOOR
		Add relay / wiring for XFERA_HEAT relay to pin4 for nofreeze. 
		update code to fix font for OLED
		watchdog thing for RTC going pear shaped
		How do I actively use the thermal energy stored in the sand batteries? I need some way to shunt from them on demand
		build additional sand batteries? string into xferB ?
		stuff for roof cover - poles, tarp, fasteners?
		figure out how to calculate thermal conductivity with moving air. 
		add interface to allow forcing additional heat on demand.. 
		create simulation model of system to analyze potential improvements
		blanket to block drafts through doorway
		flashing / seal space under shed
		SandA thermal conductivity / radiativity improvements
		SandB thermal conductivity / radiativity improvements



	11/10 	Clean up outside shed. 
	11/11 	move controller off desk and onto sandA ... 
		Order new cutting board to replace the one warped when testing the furnace stuff.

	11/10 	Clean/org inside shed
	11/10 	flash updated software to controller
	11/10 	new case for controller

		Repair foot warm +12V DC 
		Rework heaterA to use aluminum heatsinks
		Rework heaterB to use aluminum heatsinks
		rework foot warm to use aluminum heatsinks
		Arduino Nano Power monitor
		stupid leak somewhere...
		override relays
		override comfyTemp
		make it work using a remote? 
		power cutoff logics
		Water level sensor for reservoir
		clean/org shed
		replace RPI power cord with 10 footer
		light sensor
		xferA/B to warm shed? at least xferA should be able to??
		more heat elements for heaterA ?
		heat powered fans for heaters?
		foot warmer!
		secure / enclose the controller system. make it easier to put displays higher and vertical! 
		light sensor / humidity tracking for the roof to sense if panel frosted over?
		clean/org shed - actually use shelves, totes? lol
		seal up under west wall, especially north half!
		find/fix leaks in the ceiling
		5V to HEATER_A_FAN
		empty reservoir and let dry overnight
		figure out seals / leaks in reservoir
		finish door for reservoir box
		cutoff temp for xfer to sand at 70? 
		shed door sensor
		fine control of fans
		relay overrides for testing... 
		maybe add light sensor to measure amount of sun?
		bigger digit display for shed temp?
		add humidity tracking for temp sensors...

